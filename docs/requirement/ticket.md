#### 资产申请

user + asset

仅限 asset 所在的部门的资产管理员审批

#### 资产退库

仅限 asset 所在的部门的资产管理员处理 // 对线1：取消工单，只保留日志，原因由于资产退库不需要管理员同意。

#### 资产维保

维保人：    让资产管理员处理维保问题 // 对线2：不保留资产维保人，

员工提出对自己的资产进行维保，资产管理员对所有当前部门的资产进行维保

#### 资产转移

user1 + asset + user2

暂时不考虑做。

#### 操作日志

纯文本 + html标记 纯中文

登录日志 查看某个用户的登录日志 每一次 request 一个 log

关键数据修改日志

需要单个资产的所有日志 ，单个人的所有操作日志

查看：登录日志 个人/管理员可见，  资产日志：资产管理员可见

# 从需求到API, 2022.4.16

## 应用门户

done

## 资产信息变更

/asset/modify 和create类似。

## 资产查询 资产查看nopicture

done

## 工单设计

先做领用。 维保需要问。 # TODO

## 待办任务

人搜索自己可以处理的工单。

## 资产领用

一个人可以申请本公司的所有空闲、根（没有父资产）资产，提出工单。

工单有由该部门的直接资产管理员审批（强提醒），或者更高的资产管理员审批（弱提醒）。

工单包含：申请人，申请资产，申请时间，申请部门，审批人，审批时间，退库时间。

工单的状态：待审批，已同意，已拒绝，逻辑失效（在申请后，资产被改过了），已退库。

### 领用工单相关API

`class RequestTicket`

创建领用工单，给定申请人，申请资产。

审核（同意/拒绝）领用工单，给定审批人。

搜索工单。（包含查看我的待办事项；paginator, filter）

退库。

查看单个工单。

## 资产退库

## 资产维保

TODO
