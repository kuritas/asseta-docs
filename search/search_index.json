{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"ASSETA \u4f01\u4e1a\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf","text":""},{"location":"#_1","title":"\u9879\u76ee\u80cc\u666f","text":"<p>\u4f01\u4e1a\u4e00\u822c\u90fd\u6709\u56fa\u5b9a\u8d44\u4ea7\uff0c\u4f8b\u5982\u7535\u8111\u3001\u6295\u5f71\u4eea\u7b49\u8bbe\u5907\u3002\u5de5\u4e1a\u578b\u4f01\u4e1a\u5219\u6709\u5f88\u591a\u673a\u5668\u3001\u4eea\u5668\u3001\u5b9e\u9a8c\u8bbe\u5907\u3002\u4f01\u4e1a\u7684\u56fa\u5b9a\u8d44\u4ea7\u9700\u8981\u6709\u7ba1\u7406\u5e94\u7528\uff0c\u4ee5\u4fdd\u969c\u8d44\u4ea7\u7684\u6b63\u5e38\u4f7f\u7528\u548c\u5b89\u5168\u6027\u3002\u56e0\u6b64\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u5e94\u7528\u662f\u4e00\u4e2a\u975e\u5e38\u666e\u904d\u5e38\u7528\u7684\u4f01\u4e1a IT \u5e94\u7528\u3002\u672c\u9879\u76ee\u671f\u671b\u5f97\u5230\u4e00\u4e2a\u7b80\u5355\u7684\u4f01\u4e1a\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u5e94\u7528\u7cfb\u7edf\uff0c\u4ee5\u5e2e\u52a9\u4f01\u4e1a\u7ba1\u7406\u56fa\u5b9a\u8d44\u4ea7\u7684\u5f52\u5c5e\u548c\u6d41\u8f6c\u3002\u5305\u62ec\uff1a\u8d44\u4ea7\u5165\u5e93\u3001\u8d44\u4ea7\u9886\u7528\u3001\u8d44\u4ea7\u501f\u7528\u3001\u8d44\u4ea7\u8f6c\u79fb\u3001\u8d44\u4ea7\u6e05\u9000\u3001\u8d44\u4ea7\u7ef4\u4fee\u3001\u8d44\u4ea7\u5361\u7247\u67e5\u770b\u548c\u8d44\u4ea7\u6807\u7b7e\u6253\u5370\u7b49\u3002\u652f\u6301\u57fa\u672c\u7684\u5ba1\u6279\u6d41\u7a0b\u3002</p>"},{"location":"#_2","title":"\u9879\u76ee\u76ee\u6807","text":"<p>\u672c\u9879\u76ee\u4e3b\u8981\u5b9e\u73b0\u4e00\u4e2a\u4f01\u4e1a\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\uff0c\u5b9e\u73b0\u5bf9\u4e1a\u52a1\u5b9e\u4f53\uff0c\u90e8\u95e8\u4ee5\u53ca\u5404\u4e2a\u5458\u5de5\u7684\u7ba1\u7406\uff0c\u6700\u91cd\u8981\u7684\u662f\u8981\u5bf9\u8d44\u4ea7\u8fdb\u884c\u7ba1\u7406\uff0c\u505a\u597d\u8d44\u4ea7\u7684\u6d41\u8f6c\u4ee5\u53ca\u56de\u6eaf\u3002</p> <p>\u672c\u9879\u76ee\u9700\u8981\u8ba9\u4f01\u4e1a\u5458\u5de5\u4e0e\u7ba1\u7406\u5458\u534f\u540c\u914d\u5408\uff0c\u4ee5\u5b9e\u73b0\u8d44\u4ea7\u7684\u6d41\u8f6c\uff0c\u5e76\u4e14\u9700\u8981\u5bf9\u590d\u6742\u7684\u8d44\u4ea7\u7ed3\u6784\u8fdb\u884c\u5904\u7406\uff0c\u9632\u6b62\u64cd\u4f5c\u4e4b\u95f4\u51fa\u73b0\u903b\u8f91\u4e0d\u901a\u7684\u95ee\u9898\uff0c\u5e76\u4e14\u6b63\u786e\u5904\u7406\u597d\u5404\u4e2a\u5458\u5de5\u7684\u6743\u9650\u95ee\u9898\uff0c\u9632\u6b62\u8d8a\u6743\u8bbf\u95ee\u53d1\u751f\u4e00\u7cfb\u5217\u95ee\u9898\u3002</p>"},{"location":"#_3","title":"\u9700\u8981\u5199","text":"<p>\u6587\u6863\uff1a</p> <p>1\u3001\u9700\u6c42\u5206\u6790</p> <p>\u7528\u6237\u6545\u4e8b\uff1a \u7528\u6237\u7528\u4f8b\u56fe\uff1a \u6d41\u7a0b\u56fe\uff1a \u6cf3\u9053\u56fe\uff1a</p> <p>2\u3001\u6a21\u5757\u548c\u63a5\u53e3\u6587\u6863</p> <p>\u540e\u7aef app \u5217\u8868 API \u63a5\u53e3 \u7cfb\u7edf\u7ed3\u6784\u56fe \u5e8f\u5217\u56fe \u6570\u636e\u6d41\u56fe</p> <p>3\u3001\u6570\u636e\u5e93\u8bbe\u8ba1\u6587\u6863</p> <p>E-R \u56fe Models \u8bf4\u660e</p>"},{"location":"API/","title":"API","text":"<p>\u5bf9\u6240\u6709\u975e\u6cd5\u65b9\u5f0f\u8bf7\u6c42\uff0c\u8fd4\u56de\uff1a</p> <pre><code>{\n\"code\": -3,\n\"info\": \"Bad method\"\n}\n</code></pre> <p>\u8bf7\u6c42\u4f53\u9519\u8bef\uff0c\u8fd4\u56de\uff1a</p> <pre><code>{\n\"code\": -2,\n\"info\": \"Bad request\"\n}\n</code></pre> <p>URL \u89e3\u6790\u9519\u8bef\uff0c\u8fd4\u56de\uff1a</p> <pre><code>{\n\"code\": -1,\n\"info\": \"URL parsing error\"\n}\n</code></pre> <p>API \u5168\u90e8\u91c7\u7528 POST + json \u7684\u683c\u5f0f\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u5e38\u89c1\u9519\u8bef\uff1a</p> <ul> <li>token\u9a8c\u8bc1\u9519\u8bef<ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul> </li> <li>username\u975e\u6cd5 [to be completed]</li> <li>\u64cd\u4f5c\u90e8\u95e8\u6811\u6839\u8282\u70b9 [\u5f53\u4f5c\u4e0d\u5b58\u5728\u90e8\u95e8]</li> </ul>"},{"location":"API/OA/","title":"OA","text":""},{"location":"API/OA/#oa","title":"OA \u98de\u4e66","text":"<p>\u6240\u6709\u5e26 token \u7684</p> <ul> <li>token \u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token \u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul> <p>\u7528\u6237\u552f\u4e00\u6807\u8bc6\uff1aopen_id</p> <p>\u524d\u7aef\u5c06\u83b7\u53d6\u5230\u7684 code \u53d1\u9001\u7ed9\u540e\u7aef\uff0c</p> <p>\u7136\u540e\u540e\u7aef\u5411 <code>https://passport.feishu.cn/suite/passport/oauth/token</code> \u53d1\u9001 <code>POST</code> \u8bf7\u6c42\uff0c\u83b7\u53d6 <code>access_token</code></p> <p>\u8bf7\u6c42\u683c\u5f0f\uff1a <pre><code>{\n\"grant_type\": \"authorization_code\",\n\"client_id\": APP_ID,\n\"client_secret\": APP_SECRET,\n\"code\": code\n}\n</code></pre> \u6ce8\uff1a\u6b64\u5904\u7684 body \u7684\u683c\u5f0f\u4e3a <code>application/x-www-form-urlencoded</code>\uff0cheader \u5e94\u6709\uff1a\"Content-Type\": \"application/x-www-form-urlencoded\"\u3002</p> <p>\u7136\u540e\u540e\u7aef\u5411 <code>https://open.feishu.cn/open-apis/authen/v1/user_info</code> \u53d1\u9001 <code>GET</code> \u8bf7\u6c42\uff0c\u83b7\u53d6\u8be5\u7528\u6237\u7684\u7528\u6237\u4fe1\u606f\uff0c\u7136\u540e\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\u3002</p> <p>\u8bf7\u6c42\u683c\u5f0f\uff1a header \u4e2d\u6dfb\u52a0 \"Authorization\": \"Bearer \" + access_token\u3002</p> <p>\u98de\u4e66\u76f8\u5173 API 1 \u98de\u4e66\u76f8\u5173 API 2</p>"},{"location":"API/OA/#oalogin","title":"/oa/login","text":"<p>\u4f7f\u7528 OA \u8ba4\u8bc1\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1</p> <p><pre><code>POST\n{\n\"code\" : \"\", # user_access_token\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"token\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> \u9519\u8bef\u4fe1\u606f\uff1a\u5c06\u98de\u4e66\u7684\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\u5373\u53ef\u3002</p> <ul> <li>code = 10, message = \"openid is not bound to any user\"</li> </ul>"},{"location":"API/OA/#oabinding","title":"/oa/binding","text":"<p>\u7528\u6237\u7ed1\u5b9a\u98de\u4e66\u8d26\u53f7</p> <pre><code>POST\n{\n\"token\": \"\",\n\"code\" : \"\", # user_access_token\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u4fe1\u606f\uff1a</p> <ul> <li> <p>token \u76f8\u5173\u9519\u8bef</p> </li> <li> <p>code = 10, message = \"user is bound to feishu account\"</p> </li> <li> <p>code = 11, message = \"feishu account is bound to another user\"</p> </li> <li> <p>code \u9519\u8bef\uff1a\u5c06\u98de\u4e66\u7684\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\u5373\u53ef\u3002</p> </li> </ul>"},{"location":"API/OA/#oaunbinding","title":"/oa/unbinding","text":"<p>\u7528\u6237\u53d6\u6d88\u7ed1\u5b9a\u98de\u4e66\u8d26\u53f7\uff0c\u82e5\u539f\u672c\u5c31\u6ca1\u6709\u7ed1\u5b9a\uff0c\u5219\u4e0d\u64cd\u4f5c\u3002</p> <pre><code>POST\n{\n\"token\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u4fe1\u606f\uff1a</p> <p>token \u76f8\u5173\u9519\u8bef</p>"},{"location":"API/alert/","title":"Alert","text":""},{"location":"API/alert/#_1","title":"\u603b\u8ff0","text":"<p>\u5305\u542b\u4e24\u5f20\u8868\uff1a\u8b66\u544a\u8868\u548c\u8b66\u544a\u914d\u7f6e\u8868\u3002\u6bcf\u5929\u66f4\u65b0\u8d44\u4ea7\u4fe1\u606f\u540e\u5c06\u904d\u5386\u6240\u6709\u8b66\u544a\u914d\u7f6e\uff0c\u5e76\u521b\u5efa\u5bf9\u5e94\u7684\u8b66\u544a\u3002\u6ce8\u610f\uff0c\u8b66\u544a\u53ea\u4f1a\u5728\u66f4\u65b0\u8d44\u4ea7\u4fe1\u606f\u540e\u88ab\u540e\u7aef\u81ea\u52a8\u521b\u5efa\uff0c\u65e0\u6cd5\u901a\u8fc7API\u521b\u5efa\u3002\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u624b\u52a8\u5220\u9664\u8b66\u544a\uff08\u6765\u8868\u793a\u8be5\u8b66\u544a\u5df2\u89e3\u51b3/\u5ffd\u7565\uff09\u3002</p> <p>\u6bcf\u6761\u8b66\u544a\u914d\u7f6e\u5305\u542b\u6307\u5b9a\u90e8\u95e8\u3001\u8d44\u4ea7\u7c7b\u578b\u3001\u8b66\u544a\u7c7b\u578b\u548c\u4e00\u4e2a\u6570\u5b57value\u3002\u5bf9\u4e8e\u6bcf\u6761\u8b66\u544a\u914d\u7f6e\uff0c\u5f53\uff1a</p> <p>\u7ed9\u5b9a\u90e8\u95e8\uff08\u542b\u5b50\u6811\uff09\u7684\u7ed9\u5b9a\u7c7b\u578b\u8d44\u4ea7</p> <ul> <li>\"VALUE\": \u603b\u4ef7\u503c\u5c0f\u4e8e\u7b49\u4e8evalue</li> <li>\"NUM\": \u603b\u6570\u91cf\u5c0f\u4e8e\u7b49\u4e8evalue</li> <li>\"TO_RETIRE\"\uff1a\u5b58\u5728\u4e00\u4e2a\u8d44\u4ea7\u7684rest_life\u5c0f\u4e8e\u7b49\u4e8evalue</li> </ul> <p>\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5219\u521b\u5efa\u8b66\u62a5\u3002</p>"},{"location":"API/alert/#alertconfigcreate","title":"/alert/config/create","text":"<p>\u521b\u5efa\u8b66\u62a5\u914d\u7f6e</p> <p>\u6743\u9650\uff1a\u672c\u90e8\u95e8\u6216\u7956\u5148\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"department_uuid\": uuid,\n\"category_uuid\": uuid,\n\"type\": \"\", //\"VALUE\", \"NUM\", \"TO_RETIRE\"\n\"value\": number // &gt;= 0\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": { \"config_uuid\": uuid }\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff1a <code>code = 10, message = \"invalid department uuid\"</code></li> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid category\"</code></li> <li>\u975e\u6cd5\u7c7b\u522b\uff1a<code>code = 12, message = \"invalid alert type\"</code></li> <li>\u975e\u6cd5\u6570\u503c\uff1a<code>code = 13, message = \"value must be non-negative\"</code></li> </ul>"},{"location":"API/alert/#alertconfigdelete","title":"/alert/config/delete","text":"<p>\u5220\u9664\u8b66\u62a5\u914d\u7f6e</p> <p>\u6743\u9650\uff1a\u672c\u90e8\u95e8\u6216\u7956\u5148\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"config_uuid\": uuid,\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u8b66\u544a\u914d\u7f6e\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff1a <code>code = 10, message = \"invalid alert config uuid\"</code></li> </ul>"},{"location":"API/alert/#alertconfiglist","title":"/alert/config/list","text":"<p>\u5217\u51fa\u6307\u5b9a\u90e8\u95e8\uff08\u4e0d\u542b\u5b50\u90e8\u95e8\uff09\u7684\u8b66\u544a</p> <p>\u6743\u9650\uff1a\u672c\u90e8\u95e8\u6216\u7956\u5148\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"department_uuid\": uuid,\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {[\n\"config_uuid\": uuid,\n\"category_uuid\": uuid,\n\"department_uuid\": uuid,\n\"type\": \"\", //\"VALUE\", \"NUM\", \"TO_RETIRE\"\n\"value\": number // &gt;= 0\n]}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff1a <code>code = 10, message = \"invalid department uuid\"</code></li> </ul>"},{"location":"API/alert/#alertdelete","title":"/alert/delete","text":"<p>\u5220\u9664\u8b66\u62a5</p> <p>\u6743\u9650\uff1a\u672c\u90e8\u95e8\u6216\u7956\u5148\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"alert_uuid\": uuid,\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u8b66\u544a\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff1a <code>code = 10, message = \"invalid alert uuid\"</code></li> </ul>"},{"location":"API/alert/#alertlist","title":"/alert/list","text":"<p>\u5217\u51fa\u6307\u5b9a\u90e8\u95e8\uff08\u4e0d\u542b\u5b50\u90e8\u95e8\uff09\u7684\u8b66\u544a</p> <p>\u6743\u9650\uff1a\u672c\u90e8\u95e8\u6216\u7956\u5148\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"department_uuid\": uuid,\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {[\n\"alert_uuid\": uuid,\n\"category_uuid\": uuid,\n\"type\": \"\", //\"VALUE\", \"NUM\", \"TO_RETIRE\"\n\"value\": number // &gt;= 0\n]}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff1a <code>code = 10, message = \"invalid department uuid\"</code></li> </ul>"},{"location":"API/asset/","title":"API_assetss","text":"<ul> <li>token \u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token \u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul>"},{"location":"API/asset/#assetcreate","title":"/asset/create","text":"<p>\u5bfc\u5165\u8d44\u4ea7\u3002\u901a\u8fc7\u5305\u542b \"upload_img\": True \u6765\u83b7\u53d6\u4f20\u56fe\u94fe\u63a5\u3002\u8fd9\u4e2a url \u5fc5\u987b\u901a\u8fc7 put \u8bbf\u95ee\uff0c10\u5206\u949f\u8fc7\u671f\u3002\u5fc5\u987b\u8981\u5728header\u91cc\u5305\u542b 'Content-Type': 'image/jpeg'\u3002</p> <p>\u4fdd\u8d28\u671f\u5355\u4f4d\u4e3a\u300c\u5929\u300d\u3002\u6240\u6709\u4ef7\u683c\u5168\u90e8\u7cbe\u786e\u5230\u6574\u6570\uff0c\u524d\u7aef\u53ef\u4ee5\u8003\u8651\u7cbe\u786e\u5230 0.1 \u5206\uff08\u4e5f\u5c31\u662f\u628a\u7528\u6237\u8f93\u5165\u6570\u5b57\u4e58 1000\uff09 \u3002</p> <p>\u6743\u9650\uff1aassetadmin \u6743\u9650\u8303\u56f4\u4e3a\u5b50\u6811\uff0csuperadmin/useradmin \u6ca1\u6709\u6743\u9650</p> <pre><code>{\n\"token\": \"\",\n\"asset_list\": [\n{\n\"name\": \"\", // 0 &lt; len &lt;= 32\n\"description\": \"\", // optional, default is \"\", 0 &lt;= len &lt;= 1024\n\"department_uuid\": \"\",\n\"category_uuid\": \"\",\n\"children\": [\n{\n\"name\": \"\", // 0 &lt; len &lt;= 32\n\"description\": \"\", // optional, default is \"\", 0 &lt;= len &lt;= 1024\n\"department_uuid\": \"\", // must the same as father's department\n\"category_uuid\": \"\",\n\"children\": [], // empty\n\"is_distinct\": boolean,\n\"count\": number,\n\"value\": number, // positive, &lt;= 2147483647, optional, default is 0\n\"lifespan\": number, // positive, &lt;= 2147483647, optional, default is inherit\n}\n],\n\"is_distinct\": boolean,\n\"count\": number, // non-negative integer, optional, default is 1, \n// must not exceed 1 when is_distinct is True\n\"value\": number, // positive, &lt;= 2147483647\n\"lifespan\": number, // positive, &lt;= 2147483647\n\"upload_img\": boolean, // optional; if True, return contains upload url\n}\n]\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"assets\": [{ // list of successfully created assets\n\"uuid\": \"\",\n\"url\": \"\" // upload url, is nonempty only when corresponding upload_img is True\n}]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid department\"</code></li> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid category\"</code></li> <li>\u5b50\u8d44\u4ea7\u548c\u7236\u8d44\u4ea7\u90e8\u95e8\u4e0d\u540c\uff1a<code>code = 30, message = \"different departments between parent&amp;child\"</code></li> <li>\u6570\u91cf\u578b\u8d44\u4ea7\u5efa\u6811\uff1a<code>code = 31, message = \"build tree on non-distinct asset\"</code></li> </ul>"},{"location":"API/asset/#assetmodify","title":"/asset/modify","text":"<p>\u4fee\u6539\u6307\u5b9a\u7684\u8d44\u4ea7\uff0c\u53ea\u80fd\u4fee\u6539\u4e0b\u9762\u5217\u51fa\u7684\u5b57\u6bb5\u3002\u5982\u679c\u4e00\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u4fee\u6539\uff0c\u5c31\u4e0d\u8981\u4f20\u5165\u8fd9\u4e2a\u5b57\u6bb5\u3002</p> <p>\u53ea\u80fd\u4fee\u6539\u7a7a\u95f2\u8d44\u4ea7\uff0c\u4fee\u6539\u4f1a\u4f7f\u5f97\u6240\u6709\u76f8\u5173\u5f85\u5ba1\u6279\u5de5\u5355\u5931\u6548\uff08\u526f\u4f5c\u7528\uff01\uff09\u3002</p> <p>upload_img \u4e3a True \u65f6\uff0c\u4f1a\u8fd4\u56de url\u3002\u8fd9\u4e2a url \u5fc5\u987b\u901a\u8fc7 put \u8bbf\u95ee\uff0c10\u5206\u949f\u8fc7\u671f\u3002\u5fc5\u987b\u8981\u5728header\u91cc\u5305\u542b 'Content-Type': 'image/jpeg'\u3002</p> <p>\u6743\u9650\uff1aassetadmin \u6743\u9650\u8303\u56f4\u4e3a\u5b50\u6811\uff0csuperadmin/useradmin \u6ca1\u6709\u6743\u9650</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n// every field below is optional, not given means no change\n\"name\": \"\", // 0 &lt; len &lt;= 32\n\"description\": \"\", // 0 &lt;= len &lt;= 1024\n\"category_uuid\": \"\",\n\"parent_uuid\": \"\", // \"\" to make root, not given to keep the same\n\"count\": number, // 1-32768\n\"value\": value,  // positive, &lt;= 2147483647\n\"upload_img\": boolean,\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message,\n\"url\": \"\" // exists only when upload_img is True\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>asset_uuid \u672c\u8d44\u4ea7\u4e0d\u5b58\u5728\uff08\u5305\u62ec\u8d44\u4ea7\u4e0d\u53ef\u89c1\uff09\uff1a <code>code = 10, message = \"invalid asset_uuid\"</code></li> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid category\"</code></li> <li>parent_uuid \u7236\u8d44\u4ea7\u4e0d\u5b58\u5728\uff08\u5305\u62ec\u8d44\u4ea7\u4e0d\u53ef\u89c1\uff09\uff1a <code>code = 12, message = \"invalid parent_uuid\"</code></li> <li>\u6570\u91cf\u6216\u4ef7\u503c\u975e\u6cd5\uff1a <code>code = 13, message = \"invalid count or value\"</code></li> <li>\u7236\u8d44\u4ea7\u56de\u73af\uff08\u7236\u8d44\u4ea7\u662f\u81ea\u5df1\uff0c\u6216\u8005\u662f\u5b59\u5b50\uff09\uff1a<code>code = 30, message = \"making loop\"</code></li> <li>\u53ea\u80fd\u4fee\u6539\u7a7a\u95f2\u8d44\u4ea7\uff1a <code>code = 31, message = \"asset is not idle\"</code></li> <li>\u5b50\u8d44\u4ea7\u548c\u7236\u8d44\u4ea7\u90e8\u95e8\u4e0d\u540c\uff1a<code>code = 32, message = \"different departments between parent&amp;child\"</code></li> <li>\u7236\u4e0d\u4e3a\u7a7a\uff0c\u4e14\u81ea\u5df1\u6216\u7236\u4eb2\u4e3a\u975edistinct\uff1a<code>code = 33, message = \"build tree on non-distinct asset\"</code></li> </ul>"},{"location":"API/asset/#assetsearch","title":"/asset/search","text":"<p>\u67e5\u8be2\u8d44\u4ea7\u5217\u8868</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u672c\u4e1a\u52a1\u5b9e\u4f53</p> <pre><code>{\n\"token\": \"\",\n\"filter\": { // optional\n\"category_uuid\": \"\",\n\"asset_name_contains\": \"\", // \u641c\u5b50\u4e32\n\"status\": \"\",\n\"username\": \"\"\n},\n\"numberperpage\": number, // optional, None for 50, Max = 50\n\"pagenumber\": number // optional, None for 1\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"num_pages\": number,\n\"num_items\": number,\n\"data\": [\n{\n\"uuid\": \"\",\n\"name\": \"\",\n\"status\": \"\", // [\"IDLE\", \"IN_USE\", \"IN_MAINTAIN\", \"RETIRED\", \"DELETED\"]\n\"username\": \"\",\n\"department_name\": \"\",\n\"department_uuid\": \"\",\n\"category_name\": \"\",\n\"category_uuid\": \"\",\n\"total_value\": number, \"current_value\": number,\n\"lifespan\": number, \"rest_life\": number,\n\"is_distinct\": bool,\n\"count\": number\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid category\"</code></li> </ul>"},{"location":"API/asset/#assetinfo","title":"/asset/info","text":"<p>\u67e5\u8be2\u8d44\u4ea7\u8be6\u7ec6\u4fe1\u606f\u3002\u5f53 include_img \u4e3a True \u65f6\uff0c\u8fd4\u56de\u7684 url \u53ef\u4ee5\u8bbf\u95ee\u6587\u4ef6\uff0c10\u5206\u949f\u8fc7\u671f\u3002\u5982\u679c\u56fe\u7247\u4e0d\u5b58\u5728\uff0c\u672c\u51fd\u6570\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u8fd4\u56de\u7684 url \u4f1a\u7ed9 404 not found\u3002</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u672c\u4e1a\u52a1\u5b9e\u4f53</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n\"include_img\": boolean // optional, default is False\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {\n\"name\": \"\",\n\"description\": \"\",\n\"username\": \"\", // \u6302\u8d26\u4eba\n\"status\": \"\", // [\"IDLE\", \"IN_USE\", \"IN_MAINTAIN\", \"RETIRED\", \"DELETED\"]\n\"department_uuids\": [\"\"],   // from company\n\"department_names\": [\"\"],   // from company\n\"category_uuids\": [\"\"],     // from dummy\n\"category_names\": [\"\"],     // from dummy\n\"total_value\": number, \"current_value\": number,\n\"lifespan\": number, \"rest_life\": number,\n\"is_distinct\": boolean,\n\"count\": number,\n\"father_uuid\": \"\", // return \"\" if no father\n\"father_name\": \"\", // return \"\" if no father\n\"children\": [ // \u6240\u6709\u7684\u9644\u5c5e\u8d44\u4ea7\n{\n\"uuid\": \"\",\n\"name\": \"\",\n}\n],\n\"img_url\": \"\", // exists only when include_img is True\n}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre>"},{"location":"API/asset/#assetretire","title":"/asset/retire","text":"<p>\u8d44\u4ea7\u6e05\u9000</p> <p>\u8d44\u4ea7\u72b6\u6001\u53d8\u4e3a RETIRED\uff0c\u76f4\u63a5\u5b50\u8d44\u4ea7\u7684\u7236\u4eb2\u53d8\u4e3a\u7a7a\u3002</p> <p>\u6e05\u9000\u7684\u8d44\u4ea7\u4e0d\u80fd\u5904\u4e8e RETIRED / DELETED \u72b6\u6001\u3002</p> <p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u4e14\u5e76\u4e14\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u7ba1\u7406\u8d44\u4ea7\u3002</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid_list\": [\n\"\",\n],\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"success_list\": [\n\"\",\n],\n\"fail_list\": [\n\"\",\n],//No access or has retired or deleted\n}\nFault\n{\n\"code\": *,\n\"info\": message,\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a\u5982\u679c\u7528\u6237\u662f\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u90a3\u4e48\u4e0d\u4f1a\u6709\u9519\u8bef\u3002\u672a\u6210\u529f\u7684uuid\u5c06\u88ab\u653e\u5165fail_list</p>"},{"location":"API/asset/#assetstatistic","title":"/asset/statistic","text":"<p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u4e14\u6307\u5b9a\u7684\u90e8\u95e8\u9700\u8981\u5728\u5176\u5b50\u6811\u4e2d</p> <pre><code>{\n\"token\": \"\",\n\"department_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {\n\"total_num\": number, //\u8d44\u4ea7\u603b\u6570\n\"total_value\": number, //\u8d44\u4ea7\u603b\u4ef7\u503c\n\"status_info\": [\n{\n\"status\": [\"IDLE\", \"IN_USE\", \"IN_MAINTAIN\"],\n\"total_num\": number,\n\"total_value\": number,\n}\n], // \u5171\u6709 3 \u9879\uff0c\u5206\u522b\u662f IDLE IN_USE IN_MAINTAIN \u7684\u8d44\u4ea7\u4fe1\u606f\n\"subdepartment_info\":[\n{\n\"department_uuid\": uuid, \"department_name\": \"\",\n\"total_num\": number,\n\"total_value\": number,\n}\n],\n\"history\":[\n{\n\"date\": date,\n\"total_value\": number\n}\n]\n}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u4e0d\u5b58\u5728\u6216\u6ca1\u6709\u6743\u9650\u7684\u90e8\u95e8\uff1a<code>code = 10, message = \"invalid department uuid\"</code></li> <li>\u4e0d\u5b58\u5728\u7684\u72b6\u6001\uff1a<code>code = 11, message = \"invalid status\"</code></li> </ul> <p>#### /asset/transfer</p> <p>\u5b50\u7ea7\u8d44\u4ea7\u66f4\u6362\u7236\u4eb2\uff08\u53ea\u80fd\u4ece\u4e00\u4e2a\u8d44\u4ea7\u7684\u9644\u5c5e\u8d44\u4ea7\u53d8\u4e3a\u53e6\u4e00\u4e2a\u8d44\u4ea7\u7684\u9644\u5c5e\u8d44\u4ea7\uff09\u3002</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u672c\u4e1a\u52a1\u5b9e\u4f53\u3002</p> <pre><code>{\n    \"token\": \"\",\n    \"source_uuid\": \"\", // \u5f85\u8f6c\u79fb\u8d44\u4ea7 uuid\n    \"target_uuid\": \"\"  // \u8f6c\u79fb\u5230\u7684\u7236\u8d44\u4ea7\u7684 uuid\n}\nSuccess\n{\n    \"code\": 0,\n    \"info\": \"Succeed\"\n}\nFault\n{\n    \"code\": *,\n    \"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>uuid \u65e0\u6548\uff0c\u5305\u62ec\u67e5\u8be2\u5230\u975e\u672c\u4e1a\u52a1\u5b9e\u4f53\u8d44\u4ea7\uff1a<code>code = 10, message = \"invalid asset uuid\"</code></li> <li>\u5f85\u8f6c\u79fb\u8d44\u4ea7\u4e0d\u662f\u5b50\u7ea7\u8d44\u4ea7\uff0c\u6216\u76ee\u6807\u8d44\u4ea7\u4e0d\u662f\u7236\u7ea7\u8d44\u4ea7\uff1a<code>code = 11, message = \"invalid source or target asset\"</code></li> </ul> <p>#### /asset/setstatus</p> <p>\u8d44\u4ea7\u7ba1\u7406\u5458\u4fee\u6539\u8d44\u4ea7\u7684\u72b6\u6001</p> <p>\u6743\u9650\uff1a\u5f53\u524d\u90e8\u95e8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <p>\u82e5\u76f8\u5173\u5b57\u6bb5\u4e0d\u5b58\u5728\u610f\u5473\u4e0d\u8fdb\u884c\u4fee\u6539</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n\"status\": \"\", // [\"IDLE\", \"IN_USE\", \"IN_MAINTAIN\", \"RETIRED\", \"DELETED\"] IDLE means set user=null  ontional\n}\nSuccess\n{\n\"code\": 0,\n\"info\": message\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff0c\u81ea\u5df1\u975e\u8d44\u4ea7\u7ba1\u7406\u5458\u6216\u8005\u8d44\u4ea7\u4e0d\u5c5e\u4e8e\u5f53\u524d\u90e8\u95e8\uff1a <code>code = 3, message = \"no access\"</code></li> <li>uuid \u65e0\u6548\uff1a<code>code = 10, message = \"invalid asset uuid\"</code></li> </ul>"},{"location":"API/category/","title":"Category","text":""},{"location":"API/category/#api","title":"API","text":"<p>category\u662f\u4e00\u4e2a\u68ee\u6797\uff0c\u6bcf\u4e2a\u516c\u53f8\u90fd\u6709\u81ea\u5df1\u7684\u6839\u8282\u70b9\uff0c\u6bcf\u4e2a\u516c\u53f8\u6839\u8282\u70b9\u7684\u540d\u5b57\u90fd\u662fdummy\uff0c\u4f46\u662fuuid\u4e0d\u540c\u3002dummy\u4e0d\u80fd\u5220\u6539\u3002\u4e0d\u5b58\u5728\u8d85\u7ea7\u6839\u3002</p> <p>\u7c7b\u522b\u5bf9\u516c\u53f8\u6240\u6709\u5458\u5de5\u5c55\u793a\uff0c\u4f46\u662f\u4e0d\u8de8\u516c\u53f8\u5c55\u793a\u3002\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u521b\u5efa\u7c7b\u522b\uff0c\u4f46\u662f\u4e0d\u80fd\u91cd\u547d\u540d\u3001\u5220\u9664\u7c7b\u522b\uff08\u4e00\u4e2a\u4f8b\u5916\u662f\uff0c\u7c7b\u522b\u7684\u4e0a\u4e00\u6b21\u4fee\u6539\u8005\u662f\u81ea\u5df1\uff09\u3002\u6302\u5728\u6839\u8282\u70b9\u7684\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u5220\u9664\u3001\u91cd\u547d\u540d\u4efb\u4f55\u7c7b\u522b\u3002\u5220\u9664\u7c7b\u522b\u8981\u6c42\u7c7b\u522b\u4e0b\u6ca1\u6709\u5b50\u7c7b\u522b\uff0c\u4e5f\u6ca1\u6709\u8d44\u4ea7\u3002</p> <p>\u6bcf\u6b21\u521b\u5efa/\u91cd\u547d\u540d\uff0c\u4f1a\u6539\u53d8\u8d44\u4ea7\u7684\u201c\u4e0a\u6b21\u4fee\u6539\u4eba\u201d\u548c\u201c\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\u201d\u3002</p> <p>\u3010\u524d\u7aef\u3011dummy\u4e0d\u5bf9\u7528\u6237\u5c55\u793a\uff0c\u6302\u5728dummy\u7684\u8d44\u4ea7/\u7c7b\u522b\u76f4\u63a5\u51fa\u73b0\u5728\u6839\u76ee\u5f55\u3002</p> <p>\u3010\u540e\u7aef\u3011\u7531\u4e8e\u65e0\u6cd5\u4e3a\u6bcf\u4e2a\u516c\u53f8\u5efa\u7acbdummy\uff0c\u6211\u4eec\u4f1a\u5728\u4e00\u65e6\u6d89\u53ca\u5230dummy\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u521b\u5efa\u4e00\u4e2adummy\uff0c\u5047\u88c5\u5b83\u4e00\u76f4\u5b58\u5728\u3002</p> <p>\u8d85\u7ba1\u7531\u4e8e\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u516c\u53f8\uff0c\u4ec0\u4e48\u90fd\u770b\u4e0d\u5230\uff0c\u4ec0\u4e48\u90fd\u4e0d\u80fd\u505a\u3002</p>"},{"location":"API/category/#general","title":"general","text":"<pre><code>Fault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u6240\u6709\u57fa\u4e8e\u7528\u6237token\u7684\u8bf7\u6c42\uff0c\u90fd\u9075\u5faa\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul>"},{"location":"API/category/#categorycreate","title":"/category/create","text":"<p>\u521b\u5efa\u7c7b\u522b\u3002</p> <p>\u6743\u9650\uff1a\u516c\u53f8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"name\": \"\",\n\"father_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"uuid\": \"\",\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff08\u5305\u62ec\u8d85\u7ba1\uff09\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7236\u7c7b\u522b\u4e0d\u5b58\u5728\uff08\u5305\u62ec\u7236\u7c7b\u522b\u662f\u522b\u7684\u516c\u53f8\u7684\uff09\uff1a <code>code = 10, message = \"no such father\"</code></li> </ul>"},{"location":"API/category/#categoryrename","title":"/category/rename","text":"<p>\u91cd\u547d\u540d\u7c7b\u522b\u3002</p> <p>\u6743\u9650\uff1a\u516c\u53f8\u7684\u6839\u8d44\u4ea7\u7ba1\u7406\u5458\uff1b\u666e\u901a\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u4e14\u4e0a\u6b21\u4fee\u6539\u8005\u662f\u81ea\u5df1</p> <pre><code>{\n\"token\": \"\",\n\"new_name\": \"\",\n\"uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff08\u5305\u62ec\u8d85\u7ba1\uff09\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff08\u5305\u62ec\u7c7b\u522b\u662f\u522b\u7684\u516c\u53f8\u7684\uff09\uff1a <code>code = 10, message = \"no such category\"</code></li> <li>\u64cd\u4f5cdummy\uff1a<code>code = 20, message=\"dont touch dummy\"</code></li> </ul>"},{"location":"API/category/#categorydelete","title":"/category/delete","text":"<p>\u5220\u9664\u7c7b\u522b\uff0c\u8981\u6c42\u6ca1\u6709\u5b50\u7c7b\u522b\u4e5f\u6ca1\u6709\u8d44\u4ea7\u3002</p> <p>\u6743\u9650\uff1a\u516c\u53f8\u7684\u6839\u8d44\u4ea7\u7ba1\u7406\u5458\uff1b\u666e\u901a\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u4e14\u4e0a\u6b21\u4fee\u6539\u8005\u662f\u81ea\u5df1\u3002</p> <pre><code>{\n\"token\": \"\",\n\"uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u6743\u9650\u4e0d\u8db3\uff08\u5305\u62ec\u8d85\u7ba1\uff09\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7c7b\u522b\u4e0d\u5b58\u5728\uff08\u5305\u62ec\u7c7b\u522b\u662f\u522b\u7684\u516c\u53f8\u7684\uff09\uff1a <code>code = 10, message = \"no such category\"</code></li> <li>\u7c7b\u522b\u4e0b\u6709\u5b50\u7c7b\u522b\uff1a<code>code = 11, message = \"category has children\"</code></li> <li>\u7c7b\u522b\u4e0b\u6709\u8d44\u4ea7\uff1a<code>code = 12, message = \"category has assets\"</code></li> <li>\u64cd\u4f5cdummy\uff1a<code>code = 20, message=\"dont touch dummy\"</code></li> </ul>"},{"location":"API/category/#categoryqueryall","title":"/category/queryall","text":"<p>\u67e5\u8be2\u516c\u53f8\u7684\u7c7b\u522b\u6811\u3002\uff08\u5982\u679c\u6570\u636e\u5e93\u8fd8\u6ca1\u6709dummy\uff0c\u540e\u7aef\u4f1a\u7acb\u523b\u521b\u5efadummy\uff09</p> <p>\u6743\u9650\uff1a\u516c\u53f8\u6240\u6709\u5458\u5de5\u3002</p> <pre><code>{\n\"token\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": [ # list of categories\n{\n\"name\": \"\",\n\"uuid\": \"\",\n\"father_uuid\": \"\",  # dummy's father_uuid = \"\"\n\"created_by\": \"username\",\n\"created_at\": \"time\", # \u6807\u51c6\u683c\u5f0f\uff0c\u5982\"2009-06-15T13:45:30\"\uff0cUTC\u65f6\u533a\n}\n]\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u8d85\u7ba1\u7684\u8bf7\u6c42\uff1a<code>code = 4, message = \"super admin has no company\"</code></li> </ul>"},{"location":"API/company/","title":"Company","text":""},{"location":"API/company/#companycreate","title":"/company/create","text":"<p>\u65b0\u5efa\u4e1a\u52a1\u5b9e\u4f53</p> <p>\u9700\u6c42\u6743\u9650  admin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"name\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> </ul>"},{"location":"API/company/#companydelete","title":"/company/delete","text":"<p>\u5220\u9664\u4e1a\u52a1\u5b9e\u4f53</p> <p>\u9700\u6c42\u6743\u9650 superadmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"company_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u4e1a\u52a1\u5b9e\u4f53\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid uuid\"</code></li> <li>\u975e\u7a7a\u4e1a\u52a1\u5b9e\u4f53\uff1a<code>code = 11, message = \"not empty company\"</code></li> </ul>"},{"location":"API/company/#companyrename","title":"/company/rename","text":"<p>\u4fee\u6539\u4e1a\u52a1\u5b9e\u4f53\u540d\u5b57</p> <p>\u9700\u6c42\u6743\u9650\uff1asuperadmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"uuid\": \"\",\n\"new_name\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u4e1a\u52a1\u5b9e\u4f53\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid uuid\"</code></li> </ul>"},{"location":"API/company/#companylist","title":"/company/list","text":"<p>\u67e5\u770b\u6240\u6709\u4e1a\u52a1\u5b9e\u4f53</p> <p>\u9700\u6c42\u6743\u9650\uff1asuperadmin</p> <pre><code>POST\n{\n\"token\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"company\": [\n{\n\"company_uuid\": \"\",\n\"company_name\": \"\"\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> </ul>"},{"location":"API/company/#companyquery","title":"/company/query","text":"<p>\u8fd4\u56de\u90e8\u95e8\u6811</p> <pre><code>POST\n{\n\"token\": \"\",\n\"company_uuid\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": [\n{\n\"department_uuid\": \"\",\n\"department_name\": \"\",\n\"father\": \"\"\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>company_uuid\u65e0\u6548\uff1a<code>code = 10, message = \"invalid company_uuid\"</code></li> </ul>"},{"location":"API/department/","title":"Department","text":""},{"location":"API/department/#departmentcreate","title":"/department/create","text":"<p>\u65b0\u5efa\u90e8\u95e8</p> <p>\u9700\u6c42\u6743\u9650  superadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"father_uuid\": \"\",\n\"name\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7236\u90e8\u95e8\u4e0d\u5b58\u5728\u6216\u4e3a\u6839\uff1a <code>code = 10, message = \"invalid father\"</code></li> </ul>"},{"location":"API/department/#departmentdelete","title":"/department/delete","text":"<p>\u5220\u9664\u90e8\u95e8</p> <p>\u9700\u6c42\u6743\u9650 superadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"department_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid uuid\"</code></li> <li>\u975e\u7a7a\u90e8\u95e8\uff1a<code>code = 11, message = \"not empty department\"</code></li> </ul>"},{"location":"API/department/#departmentrename","title":"/department/rename","text":"<p>\u4fee\u6539\u90e8\u95e8\u540d\u5b57</p> <p>\u9700\u6c42\u6743\u9650\uff1asuperadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"uuid\": \"\",\n\"new_name\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid uuid\"</code></li> </ul>"},{"location":"API/department/#departmentget_self_company","title":"department/get_self_company","text":"<p>\uff08\u4ec5\u4f5c\u6570\u636e\u5e93\u8fc7\u6e21\u7528\uff09</p> <p>\u9700\u6c42\u6743\u9650\uff1asuperadmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"uuid\": \"\",\n\"new_name\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> </ul>"},{"location":"API/exlink/","title":"Exlink","text":""},{"location":"API/exlink/#exlinkcreate","title":"exlink/create","text":"<p>\u6743\u9650\uff1auseradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"title\": \"\", //0 &lt; len &lt; 20\n\"url\": \"\" //no limits\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"exlink_uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u6ca1\u6709\u7279\u6b8a\u7684 code \u548c\u9519\u8bef\u4fe1\u606f\u3002</p>"},{"location":"API/exlink/#exlinkdelete","title":"exlink/delete","text":"<p>\u6743\u9650\uff1auseradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"exlink_uuid\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <ul> <li>\u4e0d\u5b58\u5728\u7684 exlink uuid \u6216\u4e0d\u662f\u672c\u4e1a\u52a1\u5b9e\u4f53\u7684\u5916\u94fe\uff1a<code>code = 50, msg = \"invalid exlink uuid\"</code></li> </ul>"},{"location":"API/exlink/#exlinklist","title":"exlink/list","text":"<p>\u6743\u9650\uff1a\u4e0d\u662fsuperadmin</p> <pre><code>POST\n{\n\"token\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"exlinks\": [\n{\n\"exlink_uuid\": \"\",\n\"title\": \"\",\n\"url\": \"\"\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u6ca1\u6709\u7279\u6b8a\u7684 code \u548c\u9519\u8bef\u4fe1\u606f\u3002</p>"},{"location":"API/record/","title":"API: /record","text":"<ul> <li>token \u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token \u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> </ul> <p>\u6743\u9650\u63a7\u5236\uff1a\u8d85\u7ba1\u53ef\u4ee5\u4efb\u610f\u641c\u7d22\uff0c\u7cfb\u7edf\u7ba1\u7406\u5458\u53ea\u80fd\u6307\u5b9a\u7528\u6237\u641c\u7d22\uff0c\u8d44\u4ea7\u7ba1\u7406\u5458\u53ea\u80fd\u6307\u5b9a\u8d44\u4ea7\u641c\u7d22\u3002\u4efb\u610f\u7ba1\u7406\u5458\u53ef\u4ee5\u51ed\u501f\u8bb0\u5f55\u7684 uuid \u83b7\u53d6\u8bb0\u5f55\u7684\u5177\u4f53\u5185\u5bb9\u3002</p>"},{"location":"API/record/#recordinfo","title":"/record/info","text":"<p>\u83b7\u53d6\u8bb0\u5f55\u4fe1\u606f\u3002</p> <p>\u6743\u9650\uff1a\u4efb\u610f\u7ba1\u7406\u5458</p> <pre><code>{\n\"token\": \"\",\n\"uuid\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {\nres_dict = {\n\"uuid\": self.uuid.hex,\n\"time\": self.time.isoformat(),\n\"caller\": self.caller.username if self.caller else None,\n\"company\": self.company.uuid.hex if self.company else None,\n\"event\": self.event,\n\"brief_template\": self.brief_template,\n\"brief_json\": self.brief_json,\n// detail_json \u53ea\u6709 info \u624d\u4f1a\u63d0\u4f9b\n\"detail_json\": self.detail_json\n}\n}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff1a<code>code = 10, message = \"invalid uuid\"</code></p>"},{"location":"API/record/#recordsearch","title":"/record/search","text":"<p>\u641c\u7d22\u5de5\u5355\u3002\u53ef\u89c1\u8303\u56f4\u4e3a\uff1a</p> <ul> <li>\u666e\u901a\u7528\u6237\u4ec0\u4e48\u4e5f\u770b\u4e0d\u5230</li> <li>\u5982\u679c\u53ea\u662f\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u53ea\u80fd\u67e5\u770b\u8d44\u4ea7\u76f8\u5173\u7684\u8bb0\u5f55\uff0c\u4e5f\u5c31\u662f <code>/{ticket, asset, category}/...</code></li> <li>\u5982\u679c\u53ea\u662f\u7528\u6237\u7ba1\u7406\u5458\uff0c\u53ea\u80fd\u67e5\u770b\u7528\u6237\u76f8\u5173\u7684\u8bb0\u5f55\uff0c\u4e5f\u5c31\u662f <code>/{department, company, user}/</code></li> <li>\u53cc\u6599\u7ba1\u7406\u5458\u90fd\u80fd\u770b</li> <li>\u7ba1\u7406\u5458\u53ea\u80fd\u770b\u672c\u516c\u53f8\u7684\u8bb0\u5f55</li> <li>\u8d85\u7ba1\u53ef\u4ee5\u770b\u6240\u6709\u8bb0\u5f55</li> </ul> <pre><code>{\n\"token\": \"\",\n\"filter\": {\n\"event_contains\": \"\",\n\"brief_json_contains\": \"\",\n// both supports comma separated list; space shall be filtered\n// \"xxx_contains\": \"a,,,b   ,cd e\" filters record\n// that contains 'a' AND 'b' AND 'cd e'\n// Note this is substring search for json like \"{'caller': 'user1', 'user': 'alex'}\"\n// So contains = \"alle\" MATCHES the string;\n// This allows advanced usages like contains = \"'role1': 'user1', 'role2': 'user2'\"\n// in this case comma is seperated, but the 'role': 'content' structure is preserved\n},\n\"numberperpage\": number, // optional, None for 50, Max = 50\n\"pagenumber\": number // optional, None for 1\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"num_pages\": number,\n\"num_items\": number,\n\"data\": [\n{\n\"uuid\": self.uuid.hex,\n\"time\": self.time.isoformat(),\n\"caller\": self.caller.username if self.caller else None,\n\"company\": self.company.uuid.hex if self.company else None,\n\"event\": self.event,\n\"brief_template\": self.brief_template,\n\"brief_json\": self.brief_json,\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre>"},{"location":"API/ticket/","title":"API_tickets","text":"<ul> <li>token \u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token \u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u4e0d\u5b58\u5728\u7684type\uff1a<code>code = 40, message = invalid ticket type\"</code></li> </ul>"},{"location":"API/ticket/#_1","title":"\u62bd\u8c61\u5de5\u5355","text":"<pre><code>requester = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, related_name=\"+\")\nrequest_time = models.DateTimeField(auto_now_add=True)\nrequest_msg = models.TextField(max_length=MAX_TICKETMSG_LEN, blank=True, default=\"\")\napprover = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, default=None, related_name=\"+\") # '+' for unavailable backward relation \napprove_time = models.DateTimeField(null=True, default=None)\napprove_msg = models.TextField(null=True, max_length=MAX_TICKETMSG_LEN, default=None)\nuuid = models.UUIDField(primary_key=True, default=uuid.uuid4, unique=True, editable=False)\nasset = models.ForeignKey(Asset, on_delete=models.SET_NULL, null=True)\nnumber = IntegerField(default=0)\ndepartment = models.ForeignKey(Department, on_delete=models.SET_NULL, null=True)\nstatus = OPEN = \"OPEN\", ACCEPTED = \"ACCEPTED\", REJECTED = \"REJECTED\", INVALID = \"INVALID\"\n</code></pre>"},{"location":"API/ticket/#asset","title":"asset\u7684\u72b6\u6001","text":"<pre><code>IDLE, IN_USE, IN_MAINTAIN, RETIRED, DELETED\n\u65b0\u589e\uff1a TO_MAINTAIN, TO_RETURN\n</code></pre>"},{"location":"API/ticket/#ticketinfo","title":"/ticket/info","text":"<p>\u83b7\u53d6\u5de5\u5355\u4fe1\u606f\u3002</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u672c\u4e1a\u52a1\u5b9e\u4f53</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {    \"uuid\": self.uuid.hex,\n\"type\": self.ticket_type,\n\"status\": self.status,\n\n\"asset_uuid\": self.asset.uuid.hex if self.asset else \"\",\n\"asset_name\": self.asset.name if self.asset else \"\",\n\"asset_number\": self.number if self.asset else \"\",\n\n\"requester\": self.requester.username if self.requester else \"\",\n\"request_time\": self.request_time,\n\"approver\": self.approver.username if self.approver else \"\",\n\"approve_time\": self.approve_time,\n\n\"department_uuid\": self.department.uuid.hex if self.department else \"\",\n\"department_name\": self.department.name if self.department else \"\",\n\n\"request_msg\": self.request_msg,\n\"approve_msg\": self.approve_msg,\n}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\uff1a<code>code = 10, message = \"invalid ticket uuid\"</code></p>"},{"location":"API/ticket/#ticketsearch","title":"/ticket/search","text":"<p>\u641c\u7d22\u5de5\u5355\u3002\u4ec5\u9650\u81ea\u5df1\u53ef\u89c1\u7684\u90a3\u4e9b\u3002\u53ef\u89c1\u5305\u62ec\uff1a</p> <ul> <li>\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u89c1\uff0c\u5de5\u5355\u7684\u90e8\u95e8\u662f\u81ea\u5df1\u7684\u5b50\u6811</li> <li>\u7528\u6237\u53ef\u89c1\uff0c\u5de5\u5355\u7684\u53c2\u4e0e\u8005\u5305\u542b\u81ea\u5df1</li> </ul> <p>\u6743\u9650\uff1a\u4ec5\u9650\u672c\u4e1a\u52a1\u5b9e\u4f53</p> <pre><code>{\n\"token\": \"\",\n\"filter\": { // every field is optional\n\"type\": \"REQUEST\", // [\"REQUEST\", \"MAINTAIN\", \"RETURN\"]\n\"status\": \"OPEN\", // [\"OPEN\", \"ACCEPTED\", \"REJECTED\", \"INVALID\"] \u540e\u7aef\u5bf9\u5e94OPEN, APPROVED, REJECTED, INVALID/RETURNED\n\"asset_uuid\": \"\", // exact\n\"username\": \"\", // exact\n\"department_uuid_exact\": \"\", // exact\n\"department_uuid_subtree\": \"\", // subtree; \u5982\u679c\u4e0d\u5305\u542b\uff0c\u5176\u5b9e\u5bf9\u4e8e\u8d44\u4ea7\u7ba1\u7406\u5458\u6765\u8bf4\u5c31\u662f\u81ea\u5df1\u7684department\u7684\u5b50\u6811\n},\n\"numberperpage\": number, // optional, None for 50, Max = 50\n\"pagenumber\": number // optional, None for 1\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"num_pages\": number,\n\"num_items\": number,\n\"data\": [\n{\n\"uuid\": self.uuid.hex,\n\"type\": self.ticket_type,\n\"status\": self.status,\n\n\"asset_uuid\": self.asset.uuid.hex if self.asset else \"\",\n\"asset_name\": self.asset.name if self.asset else \"\",\n\"asset_number\": self.number if self.asset else \"\",\n\n\"requester\": self.requester.username if self.requester else \"\",\n\"request_time\": self.request_time,\n\"approver\": self.approver.username if self.approver else \"\",\n\"approve_time\": self.approve_time,\n\n\"department_uuid\": self.department.uuid.hex if self.department else \"\",\n\"department_name\": self.department.name if self.department else \"\",\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u4e0d\u4f1a\u51fa\u9519\uff0c\u9519\u4e86\u5c31\u662f\u7a7a\u5217\u8868\u3002</p>"},{"location":"API/ticket/#ticketrequest","title":"/ticket/request","text":"<p>info, create, approve</p> <p>INVALID \u4ec5\u4ec5\u53d1\u751f\u5728\uff0c\u88ab\u7533\u8bf7\u7684\u8d44\u4ea7\u88ab\u4fee\u6539\u4e86\u3002\u3010\u8bb0\u5f97\u6539asset\u76f8\u5173\u64cd\u4f5c\u7684\u526f\u4f5c\u7528\uff01\u3011</p>"},{"location":"API/ticket/#ticketrequestcreate","title":"/ticket/request/create","text":"<ul> <li>IDLE -&gt; IDLE</li> </ul> <p>\u5458\u5de5\u7533\u8bf7\u8d44\u4ea7\uff0c\u521b\u5efa\u7533\u8bf7\u5de5\u5355\u3002\u4f1a\u628a\u5e73\u884c\u7684\u5176\u4ed6\u7533\u8bf7\u5de5\u5355\u90fd\u62d2\u7edd\u6389\u3002</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u5458\u5de5\u7533\u8bf7\u5f53\u524d\u4e1a\u52a1\u5b9e\u4f53\u7684\u6839\u8d44\u4ea7</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n\"message\": \"\", // 0 &lt;= len &lt;= 1024\n\"number\": 233, // not optional, use 1 for most cases\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>uuid \u65e0\u6548\uff0c\u5305\u62ec\u7533\u8bf7\u5230\u975e\u672c\u4e1a\u52a1\u5b9e\u4f53\u8d44\u4ea7\uff1a<code>code = 10, message = \"invalid asset uuid\"</code></li> <li>\u8d44\u4ea7\u4e0d\u662f\u6839\uff1a<code>code = 11, message = \"asset not root\"</code></li> <li>\u8d44\u4ea7\u4e0d\u662fidle\uff1a<code>code = 12, message = \"asset not idle\"</code></li> <li>\u8d44\u4ea7\u6570\u91cf\u4e0d\u8db3\uff0c\u6216\u5bf9\u6761\u76ee\u578b\u8d44\u4ea7\u6307\u5b9a\u975e1\u7684\u6570\u91cf\uff1a<code>code = 13, message = \"asset number error\"</code></li> </ul>"},{"location":"API/ticket/#ticketrequestapprove","title":"/ticket/request/approve","text":"<ul> <li>accept=true: IDLE -&gt; IN_USE</li> <li>accept=false: IDLE -&gt; IDLE</li> </ul> <p>\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\u7533\u8bf7\u5de5\u5355\uff0c\u540c\u610f\u6216\u62d2\u7edd</p> <p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\u4e3a\u5b50\u6811</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n\"accept\": true, // true for accept, false for reject\n\"message\": \"\" // 0 &lt;= len &lt;= 1024\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7533\u8bf7\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/ticket/#ticketrequestcancel","title":"/ticket/request/cancel","text":"<ul> <li>IDLE -&gt; IDLE</li> </ul> <p>\u6743\u9650\uff1a\u7528\u6237\u4e3a\u81ea\u5df1</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7533\u8bf7\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/ticket/#ticketmaintain","title":"/ticket/maintain","text":"<p>create, approve, return</p> <p>return \u4e8b\u5b9e\u4e0a\u4e0d\u64cd\u4f5c\u5de5\u5355\uff0c\u53ea\u662f\u628a\u8d44\u4ea7\u72b6\u6001\u6539\u4e3a IN_USE\u3002</p>"},{"location":"API/ticket/#ticketmaintaincreate","title":"/ticket/maintain/create","text":"<ul> <li>IN_USE -&gt; TO_MAINTAIN</li> </ul> <p>\u7528\u6237\u63d0\u51fa\u8bf7\u6c42\u5bf9\u8d44\u4ea7\u8fdb\u884c\u7ef4\u4fdd\uff0c\u521b\u5efa\u7ef4\u4fdd\u5de5\u5355\u3002\u7ef4\u4fdd\u65f6\uff0c\u6302\u8d26\u4eba\u4e3a\u81ea\u5df1\u3002</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u7528\u6237\u63d0\u51fa\u81ea\u5df1\u7684\u8d44\u4ea7</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n\"message\": \"\" // 0 &lt;= len &lt;= 1024\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>uuid \u65e0\u6548\uff0c\u5305\u62ec\u7533\u8bf7\u5230\u975e\u672c\u4e1a\u52a1\u5b9e\u4f53\u8d44\u4ea7\uff1a<code>code = 10, message = \"invalid asset uuid\"</code></li> <li>\u8d44\u4ea7\u4e0d\u662f\u6839\uff1a<code>code = 11, message = \"asset not root\"</code></li> <li>\u8d44\u4ea7\u4e0d\u5c5e\u4e8e\u81ea\u5df1\uff08\u5305\u62ec\u4e0d\u662f IN_USE\uff09\uff1a<code>code = 12, message = \"asset not belong to you\"</code></li> </ul>"},{"location":"API/ticket/#ticketmaintainapprove","title":"/ticket/maintain/approve","text":"<ul> <li>accept=true: TO_MAINTAIN -&gt; IN_MAINTAIN</li> <li>accept=false: TO_MAINTAIN -&gt; IN_USE</li> </ul> <p>\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\u7ef4\u4fdd\u5de5\u5355\uff0c\u540c\u610f\u6216\u62d2\u7edd</p> <p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\u4e3a\u5b50\u6811</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n\"accept\": true, // true for accept, false for reject\n\"message\": \"\" // 0 &lt;= len &lt;= 1024\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7ef4\u4fdd\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/ticket/#ticketmaintainreturn","title":"/ticket/maintain/return","text":"<ul> <li>IN_MAINTAIN -&gt; IN_USE</li> </ul> <p>\u8d44\u4ea7\u7ba1\u7406\u5458\u5f52\u8fd8\u7ef4\u4fdd\u8d44\u4ea7\uff0c\u628a\u8d44\u4ea7\u72b6\u6001\u6539\u4e3a IN_USE\u3002\u4e0d\u6d89\u53ca\u5de5\u5355\u3002</p> <p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\u4e3a\u5b50\u6811</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - \u8d44\u4ea7 uuid \u65e0\u6548\uff0c\u5305\u62ec\u8d44\u4ea7\u6302\u8d26\u90e8\u95e8\u4e0d\u662f\u5b50\u6811\uff1a<code>code = 10, message = \"asset does not exist\"</code> - \u8d44\u4ea7\u4e0d\u662f\u6839\uff1a<code>code = 11, message = \"asset not root\"</code> - \u8d44\u4ea7\u4e0d\u662f IN_MAINTAIN\uff1a<code>code = 12, message = \"asset not in maintain\"</code></p>"},{"location":"API/ticket/#ticketmaintaincancel","title":"/ticket/maintain/cancel","text":"<ul> <li>TO_MAINTAIN -&gt; IN_USE</li> </ul> <p>\u6743\u9650\uff1a\u7528\u6237\u4e3a\u81ea\u5df1</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7533\u8bf7\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/ticket/#ticketreturn","title":"/ticket/return","text":"<p>create, approve</p>"},{"location":"API/ticket/#ticketreturncreate","title":"/ticket/return/create","text":"<ul> <li>IN_USE -&gt; TO_RETURN</li> </ul> <p>\u5458\u5de5\u7533\u8bf7\u5f52\u8fd8\u8d44\u4ea7\uff0c\u521b\u5efa\u5f52\u8fd8\u5de5\u5355</p> <p>\u6743\u9650\uff1a\u4ec5\u9650\u5458\u5de5\u5f52\u8fd8\u81ea\u5df1\u7684\u8d44\u4ea7</p> <pre><code>{\n\"token\": \"\",\n\"asset_uuid\": \"\",\n\"message\": \"\", // 0 &lt;= len &lt;= 1024\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>uuid \u65e0\u6548\uff0c\u5305\u62ec\u7533\u8bf7\u5230\u975e\u672c\u4e1a\u52a1\u5b9e\u4f53\u8d44\u4ea7\uff1a<code>code = 10, message = \"invalid asset uuid\"</code></li> <li>\u8d44\u4ea7\u4e0d\u662f\u6839\uff1a<code>code = 11, message = \"asset not root\"</code></li> <li>\u8d44\u4ea7\u4e0d\u5c5e\u4e8e\u81ea\u5df1\uff08\u5305\u62ec\u4e0d\u662f IN_USE\uff09\uff1a<code>code = 12, message = \"asset not belong to you\"</code></li> </ul>"},{"location":"API/ticket/#ticketreturnapprove","title":"/ticket/return/approve","text":"<ul> <li>TO_RETURN -&gt; IDLE</li> </ul> <p>\u7ba1\u7406\u5458\u5ba1\u6279\u5f52\u8fd8\u5de5\u5355\uff0c\u540c\u610f\u6216\u62d2\u7edd</p> <p>\u6743\u9650\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\u4e3a\u5b50\u6811</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n\"accept\": true, // true for accept, false for reject\n\"message\": \"\", // 0 &lt;= len &lt;= 1024\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7533\u8bf7\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/ticket/#ticketreturncancel","title":"/ticket/return/cancel","text":"<ul> <li>TO_MAINTAIN -&gt; IN_USE</li> </ul> <p>\u6743\u9650\uff1a\u7528\u6237\u4e3a\u81ea\u5df1</p> <pre><code>{\n\"token\": \"\",\n\"ticket_uuid\": \"\",\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"ticket_uuid\": \"\",\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a - uuid \u65e0\u6548\uff0c\u5305\u62ec\u81ea\u5df1\u4e0d\u53ef\u89c1\u3001\u4e0d\u662f\u7533\u8bf7\u5de5\u5355\uff1a<code>code = 30, message = \"invalid ticket uuid\"</code> - \u5de5\u5355\u4e0d\u662fopen\uff1a<code>code = 31, message = \"ticket not open\"</code></p>"},{"location":"API/user/","title":"User","text":""},{"location":"API/user/#userlogin","title":"/user/login","text":"<p>\u7528\u6237\u767b\u5f55</p> <pre><code>POST\n{\n\"username\" : \"\", # a-zA-Z0-9, 1 &lt;= length &lt;= 20\n\"password\" : \"\", # this is hashed\n\"timestamp\": Int64 # unix time in miliseconds\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"token\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef\uff1a<code>code = 1, message = \"username or password error\"</code></li> <li>\u767b\u5f55\u8d85\u65f6\uff1a<code>code = 2, message = \"login timeout\"</code></li> <li>\u7528\u6237\u5df2\u88ab\u9501\u5b9a\uff1a<code>code = 10, message = \"user locked\"</code></li> </ul> <p>\u5bc6\u7801\u54c8\u5e0c\u65b9\u5f0f\uff0c\u4f7f\u7528 <code>sha256</code> \u8fdb\u884c\u54c8\u5e0c\u52a0\u5bc6\u3002</p> <p>\u6563\u5217\u503c\u5373\u4e3a  <code>Hash(Hash(\"sto\" + password + \"orz\") + (string)timestamp)</code></p> <p>\u540e\u7aef\u6570\u636e\u5e93\u53ea\u5b58\u50a8 <code>Hash(\"sto\" + password + \"orz\")</code></p> <p>python\u91cc\u5199\u4f5chashlib.sha256((\"sto\" + password + \"orz\").encode(\"utf-8\")).hexdigest()\uff0c\u7ed3\u679c\u662f64\u4f4d16\u8fdb\u5236\u6570\uff0c\u5c0f\u5199</p>"},{"location":"API/user/#userlogout","title":"/user/logout","text":"<p>\u8fd9\u4e2a\u8bf7\u6c42\u7684\u8bed\u4e49\u662f\uff1a\u8ba9\u7ed9\u5b9a\u7684token\u7acb\u523bexpire\uff0c\u4f46\u662f\u4e0d\u5220\u9664\u3002</p> <pre><code>POST\n{\n\"token\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul>"},{"location":"API/user/#userusername","title":"/user/username","text":"<p>\u83b7\u53d6\u7528\u6237\u540d</p> <pre><code>POST\n{\n\"token\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"username\": \"\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul>"},{"location":"API/user/#useruserinfo","title":"/user/userinfo","text":"<p>\u83b7\u53d6\u7528\u6237\u4fe1\u606f</p> <pre><code>POST\n{\n\"token\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"data\": {\n\"username\": \"\",\n\"department_list_name\": [\"\"],\n\"company_uuid\": \"\",\n\"department_uuid\": \"\",\n# \u5bf9\u4e8e\u8d85\u7ba1\uff0clist\u4e3a\u7a7a\uff0c\u4e24\u4e2auuid\u4e3a\u7a7a\u4e32\n\"is_superadmin\": bool,\n\"is_useradmin\": bool,\n\"is_assetadmin\": bool,\n\"is_OA_banded\": bool,\n\"OA_username\": \"\", // \"\" if not band\n}\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> </ul>"},{"location":"API/user/#userchangepassword","title":"/user/changepassword","text":"<p>\u7528\u6237\u81ea\u5df1\u4fee\u6539\u5bc6\u7801</p> <pre><code>POST\n{\n\"username\": \"\",\n\"oldpassword\": \"\", # hash with sto-orz and timestamp\n\"timestamp\": \"\",\n\"newpassword\": \"\" # hash with sto-orz; no timestamp!\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef\uff1a<code>code = 1, message = \"username or password error\"</code></li> <li>\u767b\u5f55\u8d85\u65f6\uff1a<code>code = 2, message = \"login timeout\"</code></li> </ul>"},{"location":"API/user/#usersetpassword","title":"/user/setpassword","text":"<p>\u7ba1\u7406\u5458\u5f3a\u5236\u4fee\u6539\u5bc6\u7801</p> <p>\u9700\u6c42\u6743\u9650\uff1aadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\",\n\"newpassword\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid username\"</code></li> </ul>"},{"location":"API/user/#usercreate","title":"/user/create","text":"<p>\u7ba1\u7406\u5458\u521b\u5efa\u7528\u6237</p> <p>\u9700\u6c42\u6743\u9650\uff1aadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\", # a-zA-Z0-9, 1 &lt;= length &lt;= 20\n\"password\": \"\", # this is hashed\n\"department_uuid\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u5df2\u7ecf\u5b58\u5728\uff1a <code>code = 10, message = \"exist the same user\"</code></li> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid department uuid\"</code></li> </ul>"},{"location":"API/user/#userdelete","title":"/user/delete","text":"<p>\u7ba1\u7406\u5458\u5220\u9664\u7528\u6237</p> <p>\u9700\u6c42\u6743\u9650\uff1aadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid username\"</code></li> <li>\u5220\u9664\u81ea\u5df1\uff1a<code>code = 20, message = \"deleting self\"</code></li> </ul>"},{"location":"API/user/#userprivilege","title":"/user/privilege","text":"<p>\u7ba1\u7406\u5458\u8bbe\u7f6e\u7528\u6237\u6743\u9650</p> <p>\u9700\u6c42\u6743\u9650\uff1a special</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\",\n\"set_useradmin\": bool,\n\"set_assetadmin\": bool\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid username\"</code></li> </ul>"},{"location":"API/user/#userlock","title":"/user/lock","text":"<p>\u7ba1\u7406\u5458\u9501\u5b9a\u7528\u6237\uff0c\u6b64\u64cd\u4f5c\u7684\u526f\u4f5c\u7528\u8be5\u7528\u6237\u7684\u6240\u6709\u5f53\u524d\u6709\u6548\u7684token\u7acb\u523b\u5931\u6548</p> <p>\u9700\u6c42\u6743\u9650\uff1a admin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid username\"</code></li> <li>\u7528\u6237\u5df2\u88ab\u9501\u5b9a\uff1a <code>code = 11, message = \"user has been locked\"</code></li> </ul>"},{"location":"API/user/#userunlock","title":"/user/unlock","text":"<p>\u7ba1\u7406\u5458\u89e3\u9501\u7528\u6237</p> <p>\u9700\u6c42\u6743\u9650\uff1aadmin / useradmin</p> <pre><code>POST\n{\n\"token\": \"\",\n\"username\": \"\"\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\"\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u6743\u9650\u4e0d\u8db3\uff1a<code>code = 3, message = \"no access\"</code></li> <li>\u7528\u6237\u4e0d\u5b58\u5728\uff1a <code>code = 10, message = \"invalid username\"</code></li> <li>\u7528\u6237\u672a\u88ab\u9501\u5b9a\uff1a<code>code = 11, message = \"user not locked\"</code></li> </ul>"},{"location":"API/user/#usersearch","title":"/user/search","text":"<p>\u641c\u7d22\u7528\u6237</p> <pre><code>POST\n{\n\"token\": \"\",\n\"filter\": {\n\"department_uuid\": \"\", // optional\n\"username\": \"\" // optional\n}, // optional\n\"numberperpage\": number, // optional, None for 50, Max = 50\n\"pagenumber\": number // optional, None for 1\n}\nSuccess\n{\n\"code\": 0,\n\"info\": \"Succeed\",\n\"num_pages\": number,\n\"num_items\": number,\n\"data\": [\n{\n\"username\": \"\",\n\"department_list_name\": [\"\"],\n\"company_uuid\": \"\",\n\"department_uuid\": \"\",\n# \u5bf9\u4e8e\u8d85\u7ba1\uff0clist\u4e3a\u7a7a\uff0c\u4e24\u4e2auuid\u4e3a\u7a7a\u4e32\n\"is_superadmin\": bool,\n\"is_useradmin\": bool,\n\"is_assetadmin\": bool\n}\n]\n}\nFault\n{\n\"code\": *,\n\"info\": message\n}\n</code></pre> <p>\u9519\u8bef\u7c7b\u578b\uff1a</p> <ul> <li>token\u4e0d\u5b58\u5728\uff1a<code>code = 1, message = \"invalid token\"</code></li> <li>token\u8d85\u65f6\uff1a<code>code = 2, message = \"token expired\"</code></li> <li>\u90e8\u95e8\u4e0d\u5b58\u5728\uff1a <code>code = 11, message = \"invalid department uuid\"</code></li> </ul>"},{"location":"backend/apps/","title":"\u540e\u7aef app \u8bbe\u8ba1","text":"<p>\u540e\u7aef\u91c7\u7528 Django \u6846\u67b6\uff0c\u5305\u542b\u4ee5\u4e0b app\uff1a</p> <ul> <li>core</li> <li>asset</li> <li>ticket</li> <li>record</li> <li>exlink</li> <li>scheduler</li> </ul>"},{"location":"backend/apps/#core","title":"core","text":"<p>\u6838\u5fc3 app\uff0c\u5305\u542b\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u7528\u6237\u64cd\u4f5c</li> <li>\u7528\u6237\u767b\u5f55\u3001\u767b\u51fa</li> <li>\u66f4\u6539\u5bc6\u7801</li> <li>\u7528\u6237\u589e\u5220\u6539\u67e5</li> <li>\u6743\u9650\u63a7\u5236</li> <li>\u90e8\u95e8\u64cd\u4f5c</li> <li>\u90e8\u95e8\u589e\u5220\u6539\u67e5</li> <li>\u90e8\u95e8\u6210\u5458\u589e\u5220\u67e5</li> <li>\u98de\u4e66</li> <li>\u98de\u4e66\u7ed1\u5b9a</li> <li>\u98de\u4e66\u767b\u5f55</li> </ul>"},{"location":"backend/apps/#asset","title":"asset","text":"<p>\u8d44\u4ea7\u7ba1\u7406 app\uff0c\u5305\u542b\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u8d44\u4ea7\u7ba1\u7406</li> <li>\u8d44\u4ea7\u589e\u5220\u6539\u67e5</li> <li>\u6279\u91cf\u5bfc\u5165</li> <li>\u8d44\u4ea7\u6e05\u9000</li> <li>\u8d44\u4ea7\u7edf\u8ba1</li> <li>\u8d44\u4ea7\u7c7b\u522b\u7ba1\u7406</li> <li>\u589e\u5220\u6539\u67e5</li> <li>\u8d44\u4ea7\u544a\u8b66</li> <li>\u544a\u8b66\u914d\u7f6e\u589e\u5220\u67e5</li> <li>\u544a\u8b66\u901a\u77e5</li> </ul>"},{"location":"backend/apps/#ticket","title":"ticket","text":"<p>\u5de5\u5355\u7ba1\u7406 app\uff0c\u5305\u542b\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u5de5\u5355\u7ba1\u7406</li> <li>\u5de5\u5355\u589e\u5220\u6539\u67e5<ul> <li>\u7533\u8bf7\u5de5\u5355</li> <li>\u7ef4\u4fdd\u5de5\u5355</li> <li>\u9000\u8fd8\u5de5\u5355</li> </ul> </li> </ul>"},{"location":"backend/apps/#record","title":"record","text":"<p>\u64cd\u4f5c\u8bb0\u5f55 app\uff0c\u81ea\u52a8\u751f\u6210\u6982\u62ec\u3001\u7cbe\u7ec6\u4e24\u7ea7\u7684\u65e5\u5fd7\uff0c\u5e76\u4e14\u9759\u6001\u5b58\u50a8\u4e3a\u5b57\u7b26\u4e32\uff0c\u7cfb\u7edf\u72b6\u6001\u53d1\u751f\u66f4\u6539\u540e\u4ecd\u7136\u5177\u6709\u610f\u4e49\u3002</p>"},{"location":"backend/apps/#exlink","title":"exlink","text":"<p>\u5904\u7406\u7528\u6237\u9875\u7684\u5916\u90e8\u94fe\u63a5 app\u3002</p>"},{"location":"backend/apps/#scheduler","title":"scheduler","text":"<p>\u4f7f\u7528 django-apscheduler \uff0c\u5728\u6bcf\u4e2a\u6574\u70b9\u8fdb\u884c\u5982\u4e0b\u5b9a\u65f6\u4efb\u52a1\uff08\u4ee5\u4e0b\u65f6\u95f4\u5747\u4e3a UTC \u65f6\u95f4\uff09\uff1a</p> <ul> <li>\u626b\u63cf\u6240\u6709\u8d44\u4ea7\u3002\u5982\u679c\u6700\u540e\u4e00\u6b21\u66f4\u65b0\u7684\u65e5\u671f\u4e0e\u5f53\u524d\u65e5\u671f\u4e0d\u540c\uff0c\u5219\u5c06\u5176\u5269\u4f59\u4fdd\u8d28\u671f\u51cf\u53bb\u4e8c\u8005\u7684\u5dee\u3002\u5e76\u6839\u636e\u603b\u4ef7\u503c\u3001\u603b\u4fdd\u8d28\u671f\u548c\u5269\u4f59\u4fdd\u8d28\u671f\u7ebf\u6027\u63d2\u503c\u6c42\u51fa\u5176\u5269\u4f59\u4ef7\u503c\u3002</li> <li>\u626b\u63cf\u6240\u6709\u90e8\u95e8\u3002\u5982\u679c\u6ca1\u6709\u5386\u53f2\u8bb0\u5f55\u6216\u6700\u540e\u4e00\u6b21\u5386\u53f2\u8bb0\u5f55\u7684\u65e5\u671f\u4e0e\u5f53\u524d\u65e5\u671f\u4e0d\u540c\uff0c\u5219\u8ba1\u7b97\u5176\u8d44\u4ea7\u603b\u4ef7\u503c\u5e76\u65b0\u5efa\u4e00\u6761\u5386\u53f2\u8bb0\u5f55\u3002</li> <li>\u626b\u63cf\u6240\u6709\u8b66\u544a\u914d\u7f6e\uff0c\u5982\u679c\u7b26\u5408\u6761\u4ef6\u5219\u751f\u6210\u4e00\u6761\u8b66\u544a\u3002</li> </ul> <p>\u8fd9\u6837\uff0c\u5373\u4f7f\u6570\u636e\u5e93\u6216\u8005\u670d\u52a1\u5668\u957f\u65f6\u95f4\u51fa\u73b0\u6545\u969c\uff0c\u4e5f\u4e0d\u4f1a\u5bfc\u81f4\u540e\u7eed\u5bf9\u8d44\u4ea7\u5269\u4f59\u4fdd\u8d28\u671f\u7684\u7ef4\u62a4\u51fa\u73b0\u95ee\u9898\u3002\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u8d44\u4ea7\u7684\u4fdd\u8d28\u671f\u5c06\u7edf\u4e00\u4e8e\u6bcf\u5929 0:00 UTC \uff08\u5373 8:00 CST \uff09\u66f4\u65b0\u3002</p>"},{"location":"backend/models/","title":"\u540e\u7aef\u6a21\u578b\u8bbe\u8ba1","text":"<p>\u540e\u7aef\u4f7f\u7528\u4e86 Django \u7684 ORM \u6a21\u578b\uff0c\u4ee5\u4e0b\u300c\u7c7b\u578b\u300d\u5747\u4f7f\u7528 Django \u4e2d\u7684\u540d\u79f0\u3002</p>"},{"location":"backend/models/#e-r","title":"E-R \u56fe","text":""},{"location":"backend/models/#core","title":"core","text":""},{"location":"backend/models/#user","title":"User","text":"<p>\u7528\u6237\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 username Char \u7528\u6237\u540d \u552f\u4e00\uff0c\u6700\u957f\u957f\u5ea6 20 password Char \u5bc6\u7801 \u6700\u957f\u957f\u5ea6 64\uff0c\u52a0\u5bc6\u65b9\u5f0f\u8be6\u89c1 API/user department ForeignKey \u6240\u5c5e\u90e8\u95e8 \u6307\u5411 Department\uff0csuperadmin \u7684\u6b64\u5b57\u6bb5\u4e3a\u7a7a is_superadmin Boolean \u662f\u5426\u662f\u8d85\u7ea7\u7ba1\u7406\u5458 False is_useradmin Boolean \u662f\u5426\u662f\u7cfb\u7edf\u7ba1\u7406\u5458 False is_assetadmin Boolean \u662f\u5426\u662f\u8d44\u4ea7\u7ba1\u7406\u5458 False is_locked Boolean \u662f\u5426\u9501\u5b9a False feishu_openid Char \u98de\u4e66 openid \u5141\u8bb8\u4e3a\u7a7a\uff0c\u6700\u957f\u957f\u5ea6 64 feishu_name Char \u98de\u4e66\u7528\u6237\u540d \u5141\u8bb8\u4e3a\u7a7a\uff0c\u6700\u957f\u957f\u5ea6 64"},{"location":"backend/models/#token","title":"Token","text":"<p>\u7528\u6237\u767b\u5f55\u7684 Token\u3002\u8bf7\u4f7f\u7528 <code>Token.create()</code> \u51fd\u6570\u521b\u5efa\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 key Char uuid \u6700\u957f\u957f\u5ea6 64\uff0c\u6ca1\u6709\u4f7f\u7528 UUIDField \u662f\u5386\u53f2\u9057\u7559\u95ee\u9898 user ForeignKey \u6240\u5c5e\u7528\u6237 \u6307\u5411 User created DateTime \u521b\u5efa\u65f6\u95f4 \u521b\u5efa\u65f6\u95f4 expires DateTime \u5931\u6548\u65f6\u95f4 \u521b\u5efa\u65f6\u95f4 24h \u540e"},{"location":"backend/models/#department","title":"Department","text":"<p>\u90e8\u95e8\u3002\u90e8\u95e8\u6784\u6210\u4e00\u68f5\u6811\u3002\u521d\u59cb\u5b58\u5728\u7279\u6b8a\u7684\u90e8\u95e8 root \u3002\u300c\u4e1a\u52a1\u5b9e\u4f53 (company)\u300d\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u90e8\u95e8\uff0c\u5b9a\u4e49\u4e3a root \u7684\u76f4\u63a5\u513f\u5b50\uff08\u5373\u6df1\u5ea6\u4e3a 1\uff09\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 name Char \u90e8\u95e8\u540d \u6700\u957f\u957f\u5ea6 128 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e father ForeignKey \u7236\u90e8\u95e8 \u6307\u5411 Department\uff0c\u6709\u4e14\u4ec5\u6709 root \u7684\u6b64\u5b57\u6bb5\u4e3a\u7a7a is_root Boolean \u662f\u5426\u662f root False \u6709\u4e14\u4ec5\u6709 root \u7684\u6b64\u5b57\u6bb5\u4e3a True company ForeignKey \u6240\u5c5e\u4e1a\u52a1\u5b9e\u4f53 None \u6307\u5411 Department\uff0croot \u7684\u6b64\u5b57\u6bb5\u4e3a\u7a7a\uff0c\u4e1a\u52a1\u5b9e\u4f53\u7684\u6b64\u5b57\u6bb5\u4e3a\u81ea\u5df1"},{"location":"backend/models/#asset","title":"asset","text":""},{"location":"backend/models/#category","title":"Category","text":"<p>\u8d44\u4ea7\u7684\u5206\u7c7b\u3002\u7ee7\u627f\u81ea\u6811\u6a21\u578b MPTTModel \uff08\u53c2\u89c1 MPTT \u6587\u6863\uff09\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 name Char \u90e8\u95e8\u540d \u6700\u957f\u957f\u5ea6 128 parent TreeForeignKey \u7236\u7c7b\u522b uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e modified_by ForeignKey \u6700\u540e\u4e00\u6b21\u4fee\u6539\u6b64\u5206\u7c7b\u7684\u7528\u6237 None modified_at DateTime \u6700\u540e\u4e00\u6b21\u4fee\u6539\u7684\u65f6\u95f4 \u4fdd\u5b58\u65f6\u95f4 company ForeignKey \u6240\u5c5e\u4e1a\u52a1\u5b9e\u4f53 \u6307\u5411 Department"},{"location":"backend/models/#asset_1","title":"Asset","text":"<p>\u8d44\u4ea7\u3002\u7ee7\u627f\u81ea\u6811\u6a21\u578b MPTTModel \u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e name Char \u90e8\u95e8\u540d \u6700\u957f\u957f\u5ea6 128 parent TreeForeignKey \u7236\u8d44\u4ea7 description Char \u8d44\u4ea7\u63cf\u8ff0 \u6700\u957f\u957f\u5ea6 1024\uff0c\u5141\u8bb8\u4e3a\u7a7a status Char \u8d44\u4ea7\u72b6\u6001 \"IDLE\" \u6709\u5982\u4e0b\u9009\u62e9\uff1a\"IDLE\", \"IN_USE\", \"IN_MAINTAIN\", \"RETIRED\", \"DELETED\", \"TO_MAINTAIN\", \"TO_RETURN\" user ForeignKey \u6302\u8d26\u4eba\u6216\u4f7f\u7528\u4eba None \u6307\u5411 User \uff0c\u5141\u8bb8\u4e3a\u7a7a department ForeignKey \u6302\u8d26\u90e8\u95e8 \u6307\u5411 Department count Integer \u6570\u91cf 1 \u5f53 is_distinct \u4e3a True \u65f6\u5fc5\u987b\u4e3a 1 is_distinct Boolean \u662f\u5426\u662f\u6761\u76ee\u578b\u8d44\u4ea7 total_value BigInteger \u603b\u4ef7\u503c 0 \u5355\u4f4d\u4e3a 0.001 \u5143 lifespan Integer \u603b\u4fdd\u8d28\u671f 2147483647 \u5355\u4f4d\u4e3a\u5929 current_value BigInteger \u5269\u4f59\u4ef7\u503c 0 \u5355\u4f4d\u4e3a 0.001 \u5143\uff0c\u6839\u636e\u603b\u4ef7\u503c\u3001\u603b\u4fdd\u8d28\u671f\u548c\u5269\u4f59\u4fdd\u8d28\u671f\u7ebf\u6027\u63d2\u503c\u6c42\u51fa rest_life Integer \u5269\u4f59\u4fdd\u8d28\u671f 2147483647 \u5355\u4f4d\u4e3a\u5929 last_update DateTime \u4e0a\u6b21\u66f4\u65b0\u5269\u4f59\u4fdd\u8d28\u671f\u7684\u65f6\u95f4 None \u5141\u8bb8\u4e3a\u7a7a\uff08\u4e3a\u4e86\u517c\u5bb9\u65e7\u7248\u672c\uff09\uff0c\u65b0\u52a0\u5165\u7684\u8d44\u4ea7\u7684\u6b64\u5b57\u6bb5\u4e3a\u521b\u5efa\u65f6\u95f4 category ForeignKey \u5206\u7c7b \u6307\u5411 Category"},{"location":"backend/models/#alertconfig","title":"AlertConfig","text":"<p>\u8b66\u544a\u914d\u7f6e\u3002\u6bcf\u6761\u914d\u7f6e\u6307\u5b9a\u4e86\u4e00\u4e2a\u90e8\u95e8\u3001\u4e00\u4e2a\u5206\u7c7b\u3001\u4e00\u4e2a\u6570\u503c\u548c\u4e00\u4e2a\u8b66\u544a\u7c7b\u578b\uff0c\u5177\u4f53\u884c\u4e3a\u8be6\u89c1 API/alert</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e department ForeignKey \u6307\u5b9a\u90e8\u95e8 \u6307\u5411 Department category ForeignKey \u6307\u5b9a\u5206\u7c7b \u6307\u5411 Category alert_type Char \u8b66\u544a\u7c7b\u578b \u6709\u5982\u4e0b\u9009\u62e9\uff1a\"VALUE\", \"NUM\", \"TO_RETIRE\" value Integer BigInteger 0 \u6307\u5b9a\u6570\u503c"},{"location":"backend/models/#alert","title":"Alert","text":"<p>\u8b66\u544a\u3002\u6839\u636e AlertConfig \u6240\u751f\u6210\u7684\u8b66\u544a\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e department ForeignKey \u6307\u5b9a\u90e8\u95e8 \u6307\u5411 Department category ForeignKey \u6307\u5b9a\u5206\u7c7b \u6307\u5411 Category alert_type Char \u8b66\u544a\u7c7b\u578b \u6709\u5982\u4e0b\u9009\u62e9\uff1a\"VALUE\", \"NUM\", \"TO_RETIRE\" value Integer BigInteger 0 \u6307\u5b9a\u6570\u503c"},{"location":"backend/models/#history","title":"History","text":"<p>\u8bb0\u5f55\u6bcf\u5929\u6bcf\u4e2a\u90e8\u95e8\u7684\u8d44\u4ea7\u603b\u4ef7\u503c\uff0c\u4ee5\u5907\u663e\u793a\u5386\u53f2\u4fe1\u606f\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 date Date \u65e5\u671f total_value BigInteger \u672c\u90e8\u95e8\u8d44\u4ea7\u603b\u4ef7\u503c department ForeignKey \u5bf9\u5e94\u90e8\u95e8"},{"location":"backend/models/#exlink","title":"exlink","text":""},{"location":"backend/models/#exlink_1","title":"Exlink","text":"<p>\u7528\u6237\u754c\u9762\u7684\u5916\u90e8\u94fe\u63a5\u3002\u4e00\u4e2a\u4e1a\u52a1\u5b9e\u4f53\u7684\u6240\u6709\u7528\u6237\u5171\u4eab\u6b64\u914d\u7f6e\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 title Char \u6807\u9898 \u6700\u957f\u957f\u5ea6 20 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e url Text url company ForeignKey \u4e1a\u52a1\u5b9e\u4f53 \u6240\u6709\u8be5\u4e1a\u52a1\u5b9e\u4f53\u7684\u7528\u6237\u5747\u53ef\u5728\u7528\u6237\u754c\u9762\u8bbf\u95ee\u6b64\u5916\u90e8\u94fe\u63a5"},{"location":"backend/models/#record","title":"record","text":""},{"location":"backend/models/#record_1","title":"Record","text":"<p>\u64cd\u4f5c\u8bb0\u5f55\u3002\u4f7f\u7528\u6587\u672c\u7684\u5f62\u5f0f\u5b58\u50a8\u7cfb\u7edf\u7684\u64cd\u4f5c\u8bb0\u5f55\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e time DateTime \u521b\u5efa\u65f6\u95f4 \u521b\u5efa\u65f6\u95f4 caller ForeignKey \u64cd\u4f5c\u8005 None \u6307\u5411 User \uff0c\u5141\u8bb8\u4e3a\u7a7a company ForeignKey \u6240\u5c5e\u4e1a\u52a1\u5b9e\u4f53 None \u6307\u5411 Company event Char \u4e8b\u4ef6\u7c7b\u578b\u63cf\u8ff0 \u7a7a\u4e32 \u6700\u957f\u957f\u5ea6 100 \uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32 brief_template Text \u7b80\u4ecb\u6a21\u677f \u7a7a\u4e32 \u6700\u957f\u957f\u5ea6 1000 \uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32\u3002brief_json \u5c06\u4f9d\u6b64\u53d8\u4e3a\u53ef\u8bfb\u7684\u5f62\u5f0f brief_json Text \u7b80\u4ecb\u5185\u5bb9 \u7a7a\u4e32 \u6700\u957f\u957f\u5ea6 1000\uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32\uff0cjson \u683c\u5f0f detail_json Text \u8be6\u7ec6\u5185\u5bb9\uff08json\u683c\u5f0f\uff09 \u7a7a\u4e32 \u6700\u957f\u957f\u5ea6 10000\uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32\uff0cjson \u683c\u5f0f"},{"location":"backend/models/#ticket","title":"ticket","text":""},{"location":"backend/models/#ticket_1","title":"Ticket","text":"<p>\u5de5\u5355\u3002</p> \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u5907\u6ce8 uuid UUID uuid uuid.uuid4 \u552f\u4e00\uff0c\u4e0d\u53ef\u7f16\u8f91\uff0c\u4e3b\u952e status Char \u5de5\u5355\u72b6\u6001 \"OPEN\" \u6709\u5982\u4e0b\u9009\u62e9\uff1a\"OPEN\", \"ACCEPTED\", \"REJECTED\", \"INVALID\", \"CANCELED\" ticket_type Char \u5de5\u5355\u72b6\u6001 \"OPEN\" \u6709\u5982\u4e0b\u9009\u62e9\uff1a\"REQUEST\", \"RETURN\", \"MAINTAIN\" asset ForeignKey \u5173\u8054\u7684\u8d44\u4ea7 None \u6307\u5411 Asset\uff0c\u53ef\u4ee5\u4e3a\u7a7a\uff08\u4f46\u6b63\u5e38\u60c5\u51b5\u4e0d\u5e94\u4e3a\u7a7a\uff09 number Integer \u8d44\u4ea7\u6570\u76ee 0 \u53ea\u6709\u5f53\u7c7b\u578b\u4e3a REQUEST \u4e14\u7533\u8bf7\u6570\u91cf\u578b\u8d44\u4ea7\u65f6\u6709\u6548 department ForeignKey \u7533\u8bf7\u8d44\u4ea7\u6240\u5c5e\u90e8\u95e8 None \u6307\u5411 Department\uff0c\u53ef\u4ee5\u4e3a\u7a7a\uff08\u4f46\u6b63\u5e38\u60c5\u51b5\u4e0d\u5e94\u4e3a\u7a7a\uff09 request_time DateTime \u521b\u5efa\u65f6\u95f4 \u521b\u5efa\u65f6\u95f4 request_msg Text \u7533\u8bf7\u4fe1\u606f \u7a7a\u4e32 \u6700\u957f\u957f\u5ea6 1024\uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32\u6216\u7a7a approver ForeignKey \u5ba1\u6279\u4eba None \u6307\u5411 User\uff0c\u5141\u8bb8\u4e3a\u7a7a approve_time DateTime \u5ba1\u6279\u65f6\u95f4 None \u5141\u8bb8\u4e3a\u7a7a approve_msg Text \u5ba1\u6279\u4fe1\u606f None \u6700\u957f\u957f\u5ea6 1024\uff0c\u5141\u8bb8\u4e3a\u7a7a\u4e32\u6216\u7a7a"},{"location":"backend/models/#scheduler","title":"scheduler","text":"<p>\u4f7f\u7528 django-apscheduler \u3002\u521b\u5efa\u4e86\u5176\u6240\u9700\u7684\u4e24\u5f20\u8868\uff0c\u6ca1\u6709\u4f5c\u5176\u4f59\u4fee\u6539\u3002\u8be6\u89c1 apscheduler \u6587\u6863\u3002</p>"},{"location":"frontend/tech/","title":"\u524d\u7aef\u6280\u672f\u9009\u578b\u4ee5\u53ca\u76f8\u5173\u8bbe\u8ba1","text":""},{"location":"frontend/tech/#_2","title":"\u6280\u672f\u9009\u578b","text":"<p>\u524d\u7aef\u4e3b\u8981\u4f7f\u7528 <code>Next.js</code> \u8fd9\u4e00 <code>React</code> \u5f00\u53d1\u6846\u67b6\u8fdb\u884c\u8bbe\u8ba1\uff0c\u5e76\u4e14\u4f7f\u7528 <code>Ant Design</code> \u7ec4\u4ef6\u5e93\u8fdb\u884c\u9875\u9762\u8bbe\u8ba1\u3002</p> <p>\u6574\u4f53\u4e0a\u91c7\u7528\u51fd\u6570\u5f0f\u7ec4\u4ef6\u8fdb\u884c\u8bbe\u8ba1\uff0c\u5229\u7528 <code>Router</code> \u5b9e\u73b0\u4e0d\u540c\u9875\u9762\u7684\u8df3\u8f6c\u3002</p>"},{"location":"frontend/tech/#_3","title":"\u8bbe\u8ba1","text":"<p>\u4e3b\u8981\u5206\u4e3a <code>utils</code>, <code>pages</code>, <code>components</code> \u4e09\u5757\u3002</p> <ul> <li>utils </li> <li> <p>\u4e3b\u8981\u8d1f\u8d23\u903b\u8f91\u4e0a\u7684\u529f\u80fd\uff0c\u4e3b\u8981\u6709\u548c\u901a\u4fe1\u76f8\u5173\u7684 network</p> </li> <li> <p>pages</p> </li> <li> <p>\u4e3b\u8981\u4e3a\u524d\u7aef\u9875\u9762\u8bbe\u8ba1</p> </li> <li> <p>components</p> </li> <li>\u4e3b\u8981\u4e3a\u5404\u4e2a\u5b50\u7ec4\u4ef6\u3002</li> <li>\u4ee5\u53ca\u9700\u8981\u7528\u5230\u7684\u63a5\u53e3\u7684\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u5b9a\u4e49\u3002</li> </ul>"},{"location":"git/","title":"git","text":""},{"location":"git/#commit","title":"commit \u89c4\u8303","text":"<p><code>[x-y]&lt;type&gt;: &lt;message&gt;(#issue)</code></p> <p><code>\\[\\d{2}\\-\\d{2}\\](feat|fix|docs|test|style|conf|ui): .*\\(#\\d+\\)</code></p> <p><code>x</code> : \u529f\u80fd\u4e00\u7ea7\u7279\u6027\uff0c\u7f16\u53f7\u4ece 01 \u5f00\u59cb\u3002</p> <p><code>y</code> : \u529f\u80fd\u4e8c\u7ea7\u7279\u6027\uff0c\u7f16\u53f7\u4ece 01 \u5f00\u59cb\u3002</p> <p><code>&lt;type&gt;</code> : </p> <pre><code>* feat:     \u65b0\u529f\u80fd\n* fix:      \u4fee\u6539bug\n* docs:     \u4fee\u6539\u6587\u6863\n* style:    \u683c\u5f0f\u5316\u4ee3\u7801\u7ed3\u6784\uff08\u4e0d\u5f71\u54cd\u4ee3\u7801\u8fd0\u884c\u7684\u53d8\u52a8\uff09\n* test:     \u589e\u52a0\u6216\u4fee\u6539\u6d4b\u8bd5\n* conf:     \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u6216\u811a\u672c\n* ui:       \u754c\u9762\u8bbe\u8ba1\n</code></pre> <p><code>&lt;message&gt;</code> : \u5bf9 commit \u7684\u7b80\u77ed\u63cf\u8ff0</p>"},{"location":"git/#merge-request","title":"merge request \u89c4\u8303","text":"<p><code>[x-y]&lt;message&gt;(#issue)</code></p> <p><code>\\[\\d{2}\\-\\d{2}\\].*\\(#\\d+\\)</code></p>"},{"location":"git/#branch","title":"branch \u89c4\u8303","text":"<p><code>&lt;type&gt;-&lt;message&gt;</code></p> <p><code>(feat|fix)\\-.*</code></p> <p><code>&lt;type&gt;</code> : </p> <pre><code>* feat:     \u65b0\u529f\u80fd\n* fix:      \u4fee\u6539bug\n</code></pre>"},{"location":"requirement/record/","title":"record\u7684\u5b9e\u73b0","text":"<p>record \u652f\u6301\uff1a\u6309\u65f6\u95f4\u8303\u56f4 filter\uff0c\u6309\u5176\u4e2d\u5305\u542b\u7684\u5404\u79cd\u57df filter\u3002\u8fd4\u56de\u7684 record \u652f\u6301 paginator\u3002</p>"},{"location":"requirement/record/#record_1","title":"record\u7684\u8bbe\u8ba1","text":"<p>record \u5305\u542b\u51e0\u4e2a field\uff1a</p> <p>\u4f8b\u5982\uff0c\u767b\u5f55\u6210\u529f\u7684 record \u53ef\u4ee5\u662f\uff1a</p> <pre><code>uuid\ntime\ncaller\ncompany\nevent = \"success: /user/login\"\nbrief_template: \"{user} at {ip} successfully loginin at {time}\"\nbrief_json = '{\"user\": \"admin\", \"ip\": \"1.2.3.4\", time: \"2023-01-02T14:13:11.302226\"}'\n# searchable with substring, iso time format\ndetail_json = '{\"user\": user.detail(), ...}'\n</code></pre>"},{"location":"requirement/requirement/","title":"\u9700\u6c42\u5217\u8868","text":"<ol> <li> <p>\u7cfb\u7edf\u7ba1\u7406</p> <p>01-01 \u767b\u5f55\u767b\u51fa</p> <p>01-02 \u7528\u6237\u7ba1\u7406</p> <p>01-03 \u89d2\u8272\u6743\u9650</p> </li> <li> <p>\u7ec4\u7ec7\u7ba1\u7406</p> <p>02-01 \u7ec4\u7ec7\u6570\u636e\u7ba1\u7406</p> <p>02-02 \u5458\u5de5\u6570\u636e\u7ba1\u7406</p> </li> <li> <p>\u7edf\u4e00\u95e8\u6237</p> <p>03-01 \u5e94\u7528\u95e8\u6237</p> <p>03-02 \u5e94\u7528\u7ba1\u7406</p> <p>03-03 \u5f85\u529e\u4efb\u52a1</p> </li> <li> <p>\u7cfb\u7edf\u5ba1\u8ba1</p> <p>04-01 \u64cd\u4f5c\u65e5\u5fd7</p> <p>04-02 \u5bfc\u5165\u5bfc\u51fa\u7ba1\u7406</p> </li> <li> <p>OA \u5bf9\u63a5</p> <p>05-01 \u98de\u4e66\u8d26\u53f7\u7ed1\u5b9a</p> <p>05-02 \u98de\u4e66\u6d88\u606f\u63a8\u9001</p> <p>05-03 \u98de\u4e66\u5ba1\u6279\u7ba1\u7406</p> <p>05-04 \u98de\u4e66\u4eba\u4e8b\u7ba1\u7406</p> </li> <li> <p>\u4e1a\u52a1\u5b9e\u4f53\u5b9a\u4e49</p> <p>06-01 \u4e1a\u52a1\u5b9e\u4f53\u5b9a\u4e49</p> </li> <li> <p>\u8d44\u4ea7\u5b9a\u4e49</p> <p>07-01 \u8d44\u4ea7\u5206\u7c7b\u5b9a\u4e49</p> <p>07-02 \u8d44\u4ea7\u5c5e\u6027\u5b9a\u4e49</p> <p>07-03 \u8d44\u4ea7\u6807\u7b7e\u5b9a\u4e49</p> </li> <li> <p>\u8d44\u4ea7\u7ba1\u7406</p> <p>08-01 \u8d44\u4ea7\u5f55\u5165</p> <p>08-02 \u8d44\u4ea7\u4fe1\u606f\u53d8\u66f4</p> <p>08-03 \u8d44\u4ea7\u67e5\u8be2</p> <p>08-04 \u8d44\u4ea7\u6279\u91cf\u5bfc\u5165</p> <p>08-05 \u8d44\u4ea7\u6e05\u9000</p> <p>08-06 \u8d44\u4ea7\u8c03\u62e8</p> <p>08-07 \u8d44\u4ea7\u5386\u53f2</p> </li> <li> <p>\u8d44\u4ea7\u4f7f\u7528</p> <p>09-01 \u8d44\u4ea7\u67e5\u770b</p> <p>09-02 \u8d44\u4ea7\u9886\u7528</p> <p>09-03 \u8d44\u4ea7\u9000\u5e93</p> <p>09-04 \u8d44\u4ea7\u7ef4\u4fdd</p> <p>09-05 \u8d44\u4ea7\u8f6c\u79fb</p> <p>09-06 \u8d44\u4ea7\u626b\u63cf</p> </li> <li> <p>\u8d44\u4ea7\u5206\u6790</p> <p>10-01 \u8d44\u4ea7\u7edf\u8ba1</p> <p>10-02 \u8d44\u4ea7\u6298\u65e7</p> <p>10-03 \u8d44\u4ea7\u544a\u8b66</p> </li> <li> <p>\u5176\u4ed6\u8981\u6c42</p> <p>11-01 \u5b89\u5168\u8981\u6c42</p> <p>11-02 \u6613\u7528\u6027\u8981\u6c42</p> <p>11-03 \u6027\u80fd\u8981\u6c42</p> </li> </ol>"},{"location":"requirement/story/","title":"\u7528\u6237\u6545\u4e8b","text":""},{"location":"requirement/story/#a","title":"\u4f01\u4e1a\u7ba1\u7406\u5458 \u5c0fA","text":"<ul> <li>\u6211\u662f\u4e00\u540d\u4f01\u4e1a\u7ba1\u7406\u5458\uff0c\u4e3b\u8981\u4f01\u4e1a\u7684\u4eba\u5458\u8c03\u52a8\u4ee5\u53ca\u90e8\u95e8\u67b6\u6784\u7b49\u3002</li> </ul> <p>\u4f5c\u4e3a\u4e00\u540d\u4f01\u4e1a\u7ba1\u7406\u5458\uff0c\u6211\u5e0c\u671b\u65b0\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u53ef\u4ee5\u6709\u591a\u6837\u5316\u7684\u7528\u6237\u7ba1\u7406\u7cfb\u7edf\uff0c\u5728\u4eba\u5458\u8c03\u52a8\u65b9\u9762\uff0c\u6211\u53ef\u80fd\u9700\u8981\u5904\u7406\u5458\u5de5\u5165\u804c\u3001\u79bb\u804c\u7b49\u60c5\u51b5\u3002\u9700\u8981\u786e\u4fdd\u5458\u5de5\u4fe1\u606f\u7684\u51c6\u786e\u6027\uff0c\u5e76\u4e14\u53ca\u65f6\u66f4\u65b0\u76f8\u5173\u8bb0\u5f55\u548c\u7cfb\u7edf\u3002</p> <p>\u5f53\u6d89\u53ca\u5230\u90e8\u95e8\u67b6\u6784\u65f6\uff0c\u6211\u9700\u8981\u6839\u636e\u4f01\u4e1a\u7684\u6218\u7565\u76ee\u6807\u548c\u4e1a\u52a1\u9700\u6c42\u6765\u8bc4\u4f30\u548c\u89c4\u5212\u5404\u90e8\u95e8\u7684\u8bbe\u7f6e\u548c\u804c\u8d23\u5212\u5206\uff0c\u5b9a\u5236\u4e0d\u540c\u7684\u90e8\u95e8\u6811\uff0c\u8fdb\u800c\u7ba1\u7406\u4e0d\u540c\u90e8\u95e8\u7684\u5458\u5de5\u3002</p>"},{"location":"requirement/story/#b","title":"\u8d44\u4ea7\u7ba1\u7406\u5458 \u5c0fB","text":"<ul> <li>\u6211\u662f\u4e00\u540d\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u4e3b\u8981\u7ba1\u7406\u90e8\u95e8\u4e2d\u8d44\u4ea7\u7684\u6d41\u8f6c\u3002</li> </ul> <p>\u4f5c\u4e3a\u8d44\u4ea7\u7ba1\u7406\u5458\uff0c\u6211\u4eec\u6025\u9700\u4e00\u4e2a\u9ad8\u6548\u7684\u4f01\u4e1a\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7ba1\u7406\u548c\u8ffd\u8e2a\u6211\u4eec\u7684\u56fa\u5b9a\u8d44\u4ea7\u5f52\u5c5e\u548c\u6d41\u8f6c\u60c5\u51b5\u3002</p> <p>\u8fd9\u4e2a\u7cfb\u7edf\u5c06\u6db5\u76d6\u591a\u4e2a\u91cd\u8981\u529f\u80fd\uff0c\u5305\u62ec\u8d44\u4ea7\u5165\u5e93\u3001\u8d44\u4ea7\u9886\u7528\u3001\u8d44\u4ea7\u501f\u7528\u3001\u8d44\u4ea7\u8f6c\u79fb\u3001\u8d44\u4ea7\u6e05\u9000\u3001\u8d44\u4ea7\u7ef4\u4fee\u3001\u8d44\u4ea7\u5361\u7247\u67e5\u770b\u4ee5\u53ca\u8d44\u4ea7\u6807\u7b7e\u6253\u5370\u7b49\u3002\u6b64\u5916\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u8be5\u7cfb\u7edf\u652f\u6301\u57fa\u672c\u7684\u5ba1\u6279\u6d41\u7a0b\uff0c\u4ee5\u786e\u4fdd\u5404\u9879\u64cd\u4f5c\u7684\u5408\u89c4\u6027\u548c\u900f\u660e\u5ea6\u3002</p> <p>\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\uff0c\u4f7f\u6211\u4eec\u80fd\u591f\u51c6\u786e\u5730\u8bb0\u5f55\u6bcf\u4e00\u9879\u8d44\u4ea7\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u8d44\u4ea7\u7f16\u53f7\u3001\u540d\u79f0\u3001\u89c4\u683c\u3001\u54c1\u724c\u3001\u8d2d\u4e70\u65e5\u671f\u3001\u8d2d\u4e70\u4ef7\u683c\u7b49\u3002\u8d44\u4ea7\u5165\u5e93\u529f\u80fd\u5c06\u5141\u8bb8\u6211\u4eec\u5c06\u65b0\u8d2d\u4e70\u7684\u8d44\u4ea7\u5f55\u5165\u7cfb\u7edf\uff0c\u5e76\u4e0e\u76f8\u5173\u4fe1\u606f\u8fdb\u884c\u5173\u8054\u3002\u540c\u65f6\uff0c\u8d44\u4ea7\u9886\u7528\u548c\u501f\u7528\u529f\u80fd\u5c06\u65b9\u4fbf\u5458\u5de5\u6216\u90e8\u95e8\u7533\u8bf7\u548c\u9886\u53d6\u6240\u9700\u8d44\u4ea7\uff0c\u5e76\u5bf9\u5f52\u8fd8\u7b49\u8fdb\u884c\u7ba1\u7406\u3002\u8d44\u4ea7\u8f6c\u79fb\u529f\u80fd\u5c06\u4f7f\u6211\u4eec\u80fd\u591f\u8ffd\u8e2a\u8d44\u4ea7\u7684\u79fb\u52a8\u60c5\u51b5\uff0c\u5305\u62ec\u4ece\u4e00\u4e2a\u5730\u70b9\u5230\u53e6\u4e00\u4e2a\u5730\u70b9\u7684\u8f6c\u79fb\uff0c\u6216\u8005\u4ece\u4e00\u4e2a\u5458\u5de5\u5230\u53e6\u4e00  \u4e2a\u5458\u5de5\u7684\u8f6c\u79fb\u3002\u8d44\u4ea7\u6e05\u9000\u529f\u80fd\u5c06\u5e2e\u52a9\u6211\u4eec\u8bb0\u5f55\u8d44\u4ea7\u7684\u62a5\u5e9f\u6216\u9000\u8fd8\u60c5\u51b5\uff0c\u786e\u4fdd\u6211\u4eec\u80fd\u591f\u53ca\u65f6\u5904\u7406\u4e0d\u518d\u9700\u8981\u7684\u8d44\u4ea7\u3002\u8d44\u4ea7\u7ef4\u4fee\u529f\u80fd\u5c06\u8ddf\u8e2a\u8d44\u4ea7\u7684\u7ef4\u4fee\u5386\u53f2\u548c\u7ef4\u4fee\u8fdb\u5ea6\uff0c\u5e2e\u52a9\u6211\u4eec\u53ca\u65f6\u7ef4\u4fee\u548c\u4fdd\u517b\u8d44\u4ea7\uff0c\u4ee5\u5ef6\u957f\u5176\u4f7f\u7528\u5bff\u547d\u3002\u8d44\u4ea7\u5361\u7247\u67e5\u770b\u529f\u80fd\u5c06\u5141\u8bb8\u6211\u4eec\u67e5\u770b\u6bcf\u4e2a\u8d44\u4ea7\u7684\u8be6\u7ec6\u4fe1\u606f\u548c\u72b6\u6001\uff0c\u65b9\u4fbf\u7ba1\u7406\u4eba\u5458\u8fdb\u884c\u5168\u9762\u7684\u8d44\u4ea7\u7ba1\u7406\u548c\u51b3\u7b56\u3002\u6700\u540e\uff0c\u8d44\u4ea7\u6807\u7b7e\u6253\u5370\u529f\u80fd\u5c06\u5e2e\u52a9\u6211\u4eec\u751f\u6210\u8d44\u4ea7\u6807\u7b7e\uff0c\u4ee5\u4fbf\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\u5bf9\u8d44\u4ea7\u8fdb\u884c\u6807\u8bc6\u548c\u8bc6\u522b\u3002</p> <p>\u6211\u4eec\u671f\u671b\u8fd9\u4e2a\u4f01\u4e1a\u56fa\u5b9a\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u80fd\u591f\u6ee1\u8db3\u6211\u4eec\u65e5\u5e38\u8fd0\u8425\u7684\u9700\u6c42\uff0c\u5e76\u63d0\u4f9b\u53ef\u9760\u7684\u6570\u636e\u652f\u6301\u548c\u5ba1\u6279\u6d41\u7a0b\uff0c\u4ee5\u786e\u4fdd\u6211\u4eec\u7684\u8d44\u4ea7\u7ba1\u7406\u66f4\u52a0\u9ad8\u6548\u3001\u51c6\u786e\u548c\u53ef\u8ffd\u6eaf\u3002</p>"},{"location":"requirement/swimlane/","title":"\u6cf3\u9053\u6d41\u7a0b\u56fe","text":""},{"location":"requirement/ticket/","title":"\u5de5\u5355\u5217\u8868","text":""},{"location":"requirement/ticket/#_1","title":"\u8d44\u4ea7\u7533\u8bf7","text":"<p>user + asset</p> <p>\u4ec5\u9650 asset \u6240\u5728\u7684\u90e8\u95e8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279</p>"},{"location":"requirement/ticket/#_2","title":"\u8d44\u4ea7\u9000\u5e93","text":"<p>\u4ec5\u9650 asset \u6240\u5728\u7684\u90e8\u95e8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458\u5904\u7406</p>"},{"location":"requirement/ticket/#_3","title":"\u8d44\u4ea7\u7ef4\u4fdd","text":"<p>\u7ef4\u4fdd\u4eba\uff1a    \u8ba9\u8d44\u4ea7\u7ba1\u7406\u5458\u5904\u7406\u7ef4\u4fdd\u95ee\u9898</p> <p>\u5458\u5de5\u63d0\u51fa\u5bf9\u81ea\u5df1\u7684\u8d44\u4ea7\u8fdb\u884c\u7ef4\u4fdd\uff0c\u8d44\u4ea7\u7ba1\u7406\u5458\u5bf9\u6240\u6709\u5f53\u524d\u90e8\u95e8\u7684\u8d44\u4ea7\u8fdb\u884c\u7ef4\u4fdd</p>"},{"location":"requirement/ticket/#_4","title":"\u64cd\u4f5c\u65e5\u5fd7","text":"<p>\u7eaf\u6587\u672c + html\u6807\u8bb0 \u7eaf\u4e2d\u6587</p> <p>\u767b\u5f55\u65e5\u5fd7 \u67e5\u770b\u67d0\u4e2a\u7528\u6237\u7684\u767b\u5f55\u65e5\u5fd7 \u6bcf\u4e00\u6b21 request \u4e00\u4e2a log</p> <p>\u5173\u952e\u6570\u636e\u4fee\u6539\u65e5\u5fd7</p> <p>\u9700\u8981\u5355\u4e2a\u8d44\u4ea7\u7684\u6240\u6709\u65e5\u5fd7 \uff0c\u5355\u4e2a\u4eba\u7684\u6240\u6709\u64cd\u4f5c\u65e5\u5fd7</p> <p>\u67e5\u770b\uff1a\u767b\u5f55\u65e5\u5fd7 \u4e2a\u4eba/\u7ba1\u7406\u5458\u53ef\u89c1\uff0c  \u8d44\u4ea7\u65e5\u5fd7\uff1a\u8d44\u4ea7\u7ba1\u7406\u5458\u53ef\u89c1</p>"},{"location":"requirement/ticket/#api-2022416","title":"\u4ece\u9700\u6c42\u5230API, 2022.4.16","text":""},{"location":"requirement/ticket/#_5","title":"\u8d44\u4ea7\u4fe1\u606f\u53d8\u66f4","text":"<p>/asset/modify \u53ea\u80fd\u53d8\u7a7a\u95f2\u7684\u8d44\u4ea7</p>"},{"location":"requirement/ticket/#_6","title":"\u5de5\u5355\u8bbe\u8ba1","text":"<p>\u5148\u505a\u9886\u7528\u3002 \u7ef4\u4fdd\u9700\u8981\u95ee\u3002 # TODO</p>"},{"location":"requirement/ticket/#_7","title":"\u5de5\u5355\u57fa\u672c\u4fe1\u606f\uff08\u6240\u6709\u5de5\u5355\u901a\u7528\uff09","text":"<p>\u6ce8\uff1a\u6807*\u7684\u662f\u7531\u540e\u7aef\u81ea\u52a8\u7ef4\u62a4\u7684\u4fe1\u606f\uff0c\u5176\u4f59\u4fe1\u606f\u9700\u8981\u524d\u7aef\u63d0\u4f9b\uff0c\u4e0b\u540c\u3002</p> <p>\u7533\u8bf7\u4eba\uff0c\u7533\u8bf7\u65f6\u95f4*\uff0c\u7533\u8bf7\u9644\u52a0\u4fe1\u606f\uff0c\u5ba1\u6279\u4eba\uff0c\u5ba1\u6279\u65f6\u95f4*\uff0c\u5ba1\u6279\u9644\u52a0\u4fe1\u606f\uff0c\u5de5\u5355\u72b6\u6001\uff08\u5177\u4f53\u7c7b\u578b\u5728\u6bcf\u79cd\u5de5\u5355\u4e2d\u5b9a\u4e49\uff09*\u3002</p> <p>\u9644\u52a0\u4fe1\u606f\u7531\u7528\u6237\u586b\u5199\uff0c\u6307\u9700\u8981\u5411\u5bf9\u65b9\u8bf4\u660e\u7684\u4e00\u4e9b\u4e8b\u9879\uff0c\u4e0e\u8f6f\u4ef6\u903b\u8f91\u65e0\u5173\u3002</p>"},{"location":"requirement/ticket/#_8","title":"\u5f85\u529e\u4efb\u52a1","text":"<p>\u4eba\u641c\u7d22\u81ea\u5df1\u53ef\u4ee5\u5904\u7406\u7684\u5de5\u5355\u3002</p>"},{"location":"requirement/ticket/#_9","title":"\u8d44\u4ea7\u9886\u7528","text":"<p>\u4e00\u4e2a\u4eba\u53ef\u4ee5\u7533\u8bf7\u672c\u516c\u53f8\u7684\u6240\u6709\u7a7a\u95f2\u3001\u6839\uff08\u6ca1\u6709\u7236\u8d44\u4ea7\uff09\u8d44\u4ea7\uff0c\u63d0\u51fa\u5de5\u5355\u3002</p> <p>\u5de5\u5355\u7531\u8be5\u90e8\u95e8\u7684\u76f4\u63a5\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\uff08\u5f3a\u63d0\u9192\uff09\uff0c\u6216\u8005\u66f4\u9ad8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\uff08\u5f31\u63d0\u9192\uff09\u3002</p> <p>\u5de5\u5355\u989d\u5916\u5305\u542b\uff1a\u7533\u8bf7\u8d44\u4ea7\uff0c\u7533\u8bf7\u65f6\u8d44\u4ea7\u6240\u5728\u90e8\u95e8*\u3002</p> <p>\u5de5\u5355\u7684\u72b6\u6001\uff1a\u5f85\u5ba1\u6279\uff0c\u5df2\u540c\u610f\uff0c\u5df2\u62d2\u7edd\uff0c\u903b\u8f91\u5931\u6548\uff08\u5728\u7533\u8bf7\u540e\uff0c\u8d44\u4ea7\u88ab\u6539\u8fc7\u4e86\uff09\uff0c\u5df2\u9000\u5e93\u3002</p>"},{"location":"requirement/ticket/#api","title":"\u9886\u7528\u5de5\u5355\u76f8\u5173API","text":"<p><code>class RequestTicket</code></p> <p>\u521b\u5efa\u9886\u7528\u5de5\u5355\uff0c\u7ed9\u5b9a\u7533\u8bf7\u4eba\uff0c\u7533\u8bf7\u8d44\u4ea7\uff0c\u9644\u52a0\u4fe1\u606f\u3002</p> <p>\u5ba1\u6838\uff08\u540c\u610f/\u62d2\u7edd\uff09\u9886\u7528\u5de5\u5355\uff0c\u7ed9\u5b9a\u5ba1\u6279\u4eba\u548c\u9644\u52a0\u4fe1\u606f\u3002</p> <p>\u641c\u7d22\u5de5\u5355\u3002\uff08\u5305\u542b\u67e5\u770b\u6211\u7684\u5f85\u529e\u4e8b\u9879\uff1bpaginator, filter\uff09</p> <p>\u9000\u5e93\u3002</p> <p>\u67e5\u770b\u5355\u4e2a\u5de5\u5355\u3002</p>"},{"location":"requirement/ticket/#_10","title":"\u8d44\u4ea7\u9000\u5e93","text":"<p>\u4e00\u4e2a\u4eba\u53ef\u4ee5\u7533\u8bf7\u5c06\u81ea\u5df1\u540d\u4e0b\u7684\u6761\u76ee\u578b\u8d44\u4ea7\uff08TODO: \u5efa\u8bae\u6539\u4e3a\u8010\u7528\u578b\u8d44\u4ea7\uff09\u9000\u5e93\u3002</p> <p>\u5de5\u5355\u7531\u8be5\u90e8\u95e8\u7684\u76f4\u63a5\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\uff08\u5f3a\u63d0\u9192\uff09\uff0c\u6216\u8005\u66f4\u9ad8\u7684\u8d44\u4ea7\u7ba1\u7406\u5458\u5ba1\u6279\uff08\u5f31\u63d0\u9192\uff09\u3002</p> <p>\u5de5\u5355\u989d\u5916\u5305\u542b\uff1a\u5bf9\u5e94\u7684\u7533\u8bf7\u5de5\u5355\u3002</p> <p>\u5de5\u5355\u7684\u72b6\u6001\uff1a\u5f85\u5ba1\u6279\uff0c\u5df2\u540c\u610f\uff0c\u5df2\u62d2\u7edd\u3002</p>"},{"location":"requirement/ticket/#api_1","title":"\u9000\u5e93\u5de5\u5355\u76f8\u5173API","text":"<p><code>class ReturnTicket</code></p> <p>\u521b\u5efa\u9000\u5e93\uff0c\u7ed9\u5b9a\u5bf9\u5e94\u7684\u7533\u8bf7\u5de5\u5355\u7684uuid\u548c\u9644\u52a0\u4fe1\u606f\u3002</p> <p>\u5ba1\u6838\uff08\u540c\u610f/\u62d2\u7edd\uff09\u5de5\u5355\uff0c\u7ed9\u5b9a\u5ba1\u6279\u4eba\u548c\u9644\u52a0\u4fe1\u606f\u3002</p> <p>\u641c\u7d22\u5de5\u5355\u3002\uff08\u5305\u542b\u67e5\u770b\u6211\u7684\u5f85\u529e\u4e8b\u9879\uff1bpaginator, filter\uff09</p> <p>\u67e5\u770b\u5355\u4e2a\u5de5\u5355\u3002</p>"},{"location":"requirement/usecase/","title":"\u7528\u4f8b\u56fe","text":""},{"location":"requirement/usecase/#_1","title":"\u7528\u4f8b\u56fe","text":""},{"location":"requirement/usecase/#_2","title":"\u8d85\u7ea7\u7ba1\u7406\u5458","text":""},{"location":"requirement/usecase/#_3","title":"\u7cfb\u7edf\u7ba1\u7406\u5458","text":""},{"location":"requirement/usecase/#_4","title":"\u8d44\u4ea7\u7ba1\u7406\u5458","text":""},{"location":"requirement/usecase/#_5","title":"\u666e\u901a\u5458\u5de5","text":""}]}